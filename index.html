<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SWF USA — Official U.S. Site for SWF Embroidery</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet" />

<!-- Leaflet for map -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
:root{
  /* Brand */
  --swf-red:#EC1C24;
  --swf-red-cta:#E01A22;
  /* UI */
  --ink:#0f172a; --muted:#64748b; --line:#e2e8f0; --bg:#f8fafc; --surface:#ffffff;
}
*{box-sizing:border-box} html,body{margin:0}
body{font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg)}
a{color:inherit;text-decoration:none} img{max-width:100%;display:block}
.container{max-width:1200px;margin:0 auto;padding:0 16px}

/* Buttons & chips */
.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.8rem 1.2rem;border-radius:14px;font-weight:700;cursor:pointer}
.btn-primary{background:var(--swf-red-cta);color:#fff}
.btn-outline{background:#fff;border:1px solid var(--line)}
/* chevron */
.js-view-series .chev{transition:transform .15s ease}
.js-view-series[aria-expanded="true"] .chev{transform:rotate(180deg)}
.pill{display:inline-block;border:1px solid #ffd5ea;background:#fff3f8;color:#8a1838;border-radius:999px;padding:.35rem .7rem;font-weight:700;font-size:.85rem}
.badge{display:inline-flex;align-items:center;gap:.4rem;padding:.3rem .6rem;border-radius:999px;font-weight:800;font-size:.75rem;letter-spacing:.06em;text-transform:uppercase}
.badge-flagship{background:#ffe4e8;color:#8a1838;border:1px solid #ffd5ea}
.badge-economy{background:#eef2ff;color:#3730a3;border:1px solid #e0e7ff}
/* KS Performance badge */
.badge-performance{background:#e7faf3;color:#065f46;border:1px solid #c7f0e3}

/* Headings & text */
.h1{font-size:clamp(34px,4.2vw,54px);font-weight:800;letter-spacing:-.02em;margin:10px 0 0}
.h2{font-size:30px;font-weight:800;margin:0}
.h3{font-size:20px;font-weight:700;margin:0 0 6px}
.p-muted{color:var(--muted)}
.section{padding:56px 0}

/* Layout */
.grid-2{display:grid;grid-template-columns:1.2fr 1fr;gap:32px}
@media (max-width:900px){.grid-2{grid-template-columns:1fr}}

/* =================== HEADER =================== */
.site-header{
  position:sticky; top:0; z-index:40;
  background:rgba(255,255,255,.86);
  backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid var(--line);
  transition: box-shadow .18s ease, border-color .18s ease;
}
.site-header.scrolled{ box-shadow:0 10px 30px rgba(2,6,23,.06); border-color:#e5e7eb; }
.header-row{ display:flex; align-items:center; justify-content:space-between; padding:12px 0; gap:18px; }
.brand img{ height:34px; display:block; }

/* Desktop nav */
.nav{ display:flex; align-items:center; gap:18px; }
.nav-link{ position:relative; padding:.6rem .2rem; font-weight:700; }
.nav-link:after{ content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px; background:var(--swf-red); transform:scaleX(0); transform-origin:left; transition:transform .18s ease; }
.nav-link:hover:after{ transform:scaleX(1); }
.nav-link[aria-current="true"]{ color:var(--swf-red); }
.nav-link[aria-current="true"]:after{ transform:scaleX(1); }

/* Primary nav CTA */
.nav-cta{ background:var(--swf-red-cta); color:#fff; padding:.65rem 1rem; border-radius:999px; box-shadow:0 6px 18px rgba(236,28,36,.18); }
.nav-cta:hover{ filter:brightness(1.03); }

/* Mobile */
.mobile-btn{ display:none; border:1px solid var(--line); background:#fff; border-radius:12px; }
@media (max-width:900px){ .nav{ display:none } .mobile-btn{ display:inline-flex } }
.mobile-panel{ border-top:1px solid var(--line); background:#fff; overflow:hidden; }
.mobile-grid{ display:grid; gap:10px; padding:12px 0; }
.m-link{ padding:.7rem 0; font-weight:700; }
.m-cta{ justify-content:center; }

/* Footer */
footer{margin-top:56px;background:#fff;border-top:1px solid var(--line)}
footer .cols{display:grid;grid-template-columns:repeat(4,1fr);gap:22px}
@media (max-width:900px){footer .cols{grid-template-columns:1fr 1fr}}
@media (max-width:600px){footer .cols{grid-template-columns:1fr}}
ul.clean{margin:.5rem 0 0 1.25rem;color:var(--muted);line-height:1.55}

/* Horizontal cards */
.hcards{display:grid;gap:16px;margin-top:16px}
.hcard{display:grid;grid-template-columns:360px 1fr;gap:18px;align-items:stretch;border:1px solid var(--line);background:var(--surface);border-radius:18px;box-shadow:0 10px 30px rgba(2,6,23,.06);overflow:hidden}
.hcard .media{
  min-height:220px;
  background:#fff;
  align-self:start; /* keep image column at top when details open */
}
.hcard .body{padding:16px}
.hcard .meta{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:4px 0 10px}
.hcard .cta-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
.hcard .heads{font-weight:700;color:#0f172a}
@media (max-width:900px){.hcard{grid-template-columns:1fr}.hcard .media{max-height:340px}}
/* keep card images unsquished */
.hcard .media img{display:block;width:100%;height:auto;object-fit:contain}

/* Mini gallery in cards */
.mini-gallery{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:10px}
.mini-gallery .thumb{border:1px solid var(--line);border-radius:10px;overflow:hidden;height:70px;display:flex;align-items:center;justify-content:center;background:#fff}
.mini-gallery img{height:100%;width:auto;object-fit:cover}
@media (max-width:640px){.mini-gallery{grid-template-columns:repeat(2,1fr)}}

/* ===== Financing (embed + Charlie) ===== */
.fin-grid{display:grid;grid-template-columns:1fr 1.2fr;gap:24px}
@media (max-width:1000px){.fin-grid{grid-template-columns:1fr}}
.fin-card{position:relative;border:1px solid var(--line);background:var(--surface);border-radius:18px;box-shadow:0 10px 30px rgba(2,6,23,.06);overflow:hidden}
.fin-body{padding:18px}
.fin-hero{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin:2px 0 10px;padding:10px;border:1px solid #ffd5ea;background:#fff5f7;border-radius:14px}
.fin-hero img{height:26px;width:auto;display:block}
.fin-hero .tag{font-weight:800;font-size:.75rem;letter-spacing:.06em;text-transform:uppercase;background:#ffe4e8;color:#8a1838;border:1px solid #ffd5ea;border-radius:999px;padding:.25rem .6rem}
.fin-trust{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 6px}
.fin-badge{display:inline-flex;align-items:center;gap:.45rem;border:1px solid var(--line);background:#fff;border-radius:999px;padding:.4rem .7rem;font-weight:700;font-size:.85rem}
.fin-badge svg{width:16px;height:16px;flex:0 0 auto}
.fin-steps{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:12px 0}
@media (max-width:800px){.fin-steps{grid-template-columns:1fr}}
.step{border:1px solid var(--line);border-radius:14px;padding:12px;background:#fff}
.step h4{margin:0 0 6px;font-size:16px}
.step p{margin:0;color:var(--muted);font-size:14px}
.fin-note{font-size:.9rem;color:var(--muted);margin-top:6px}
.fin-disclaimer{font-size:.8rem;color:var(--muted);margin-top:10px}
.embed-wrap{border-left:1px solid var(--line);background:#fff;border-radius:18px;overflow:hidden}
@media (max-width:1000px){.embed-wrap{border-left:none;border-top:1px solid var(--line)}}
.embed-head{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;border-bottom:1px solid var(--line);background:#fff}
.embed-head h3{margin:0;font-size:18px}
.embed-body{padding:0}
.contact-card{display:flex;gap:14px;align-items:center;border:1px solid var(--line);background:#fff;border-radius:14px;padding:12px;margin-top:14px}
.contact-card img{width:64px;height:64px;border-radius:50%;object-fit:cover}
.contact-card .meta{display:grid;gap:4px}
.contact-card .meta h4{margin:0;font-size:16px}
.contact-card .meta p{margin:0;color:var(--muted);font-size:14px}
.contact-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.contact-actions .btn{padding:.6rem .9rem;border-radius:12px;font-weight:700;font-size:.9rem}

/* ===== Series details (accordion panels) ===== */
.series-details{display:none;border-top:1px dashed var(--line);margin-top:12px;padding-top:12px}
.series-details.open{display:block}
.series-details .specs{display:grid;grid-template-columns:1.2fr 1fr;gap:16px}
@media (max-width: 900px){ .series-details .specs{grid-template-columns:1fr} }
.spec-card{border:1px solid var(--line);background:#fff;border-radius:14px;padding:12px}
.spec-card h4{margin:0 0 6px;font-size:16px}
.spec-list{margin:.25rem 0 0 1.1rem;color:var(--muted);line-height:1.55}
.gallery-row{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:12px}
@media (max-width: 640px){.gallery-row{grid-template-columns:repeat(2,1fr)}}
.gallery-row .thumb{border:1px solid var(--line);border-radius:12px;overflow:hidden;background:#fff;height:120px;display:flex;align-items:center;justify-content:center}
.gallery-row img{width:100%;height:100%;object-fit:cover}
.video-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
@media (max-width: 900px){.video-grid{grid-template-columns:1fr}}
.video-grid iframe{width:100%;aspect-ratio:16/9;border:0;border-radius:12px;background:#000}
.specs-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
@media (max-width: 1000px){.specs-grid{grid-template-columns:1fr}}
.spec-card table{width:100%;border-collapse:collapse;font-size:14px}
.spec-card th,.spec-card td{border:1px solid var(--line);padding:8px;background:#fff;text-align:left}
.spec-card th{background:#f9fafb;width:38%}

/* Download cards + modal */
.dl-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
@media (max-width:1000px){.dl-cards{grid-template-columns:1fr}}
.dl-card{border:1px solid var(--line);background:#fff;border-radius:14px;overflow:hidden;display:flex;gap:12px;align-items:center;padding:12px;cursor:pointer;box-shadow:0 6px 18px rgba(2,6,23,.06);transition:transform .12s ease}
.dl-card:hover{transform:translateY(-2px)}
.dl-card .pdf-ic{width:36px;height:44px;border:1px solid var(--line);border-radius:6px;display:grid;place-items:center;font-weight:800;background:#fff5f5;color:var(--swf-red)}
.dl-card h5{margin:0;font-size:15px}
.dl-card p{margin:2px 0 0;color:var(--muted);font-size:13px}
.modal-backdrop{position:fixed;inset:0;background:rgba(15,23,42,.55);backdrop-filter:blur(2px);display:none;z-index:1000}
.modal-backdrop.open{display:block}
.modal{position:fixed;inset:4% 6%;background:#fff;border-radius:16px;overflow:hidden;display:none;z-index:1001;border:1px solid var(--line);box-shadow:0 25px 80px rgba(2,6,23,.25)}
@media (max-width:900px){.modal{inset:6% 4%}}
.modal.open{display:flex;flex-direction:column}
.modal-head{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 14px;border-bottom:1px solid var(--line);background:#fff}
.modal-head h3{margin:0;font-size:16px}
.modal-close{appearance:none;border:1px solid var(--line);background:#fff;border-radius:10px;padding:.4rem .65rem;font-weight:800;cursor:pointer}
.modal-body{flex:1;min-height:320px;background:#000}
.modal-body iframe{width:100%;height:100%;border:0;background:#000}

/* What's Included card */
.included { margin-top:12px }
.included .items { display:grid; grid-template-columns:1fr 1fr; gap:8px 14px; margin-top:6px }
@media (max-width:700px){ .included .items{ grid-template-columns:1fr } }
.included .item { display:flex; align-items:flex-start; gap:8px }
.included .dot { flex:0 0 auto; width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; border:1px solid var(--line); background:#fff5f5; color:var(--swf-red); font-weight:800 }
.included small { color:var(--muted); display:block; margin-top:6px }

/* ===== Tabs (style + behavior) ===== */
.tablist{ display:flex; gap:8px; align-items:flex-end; margin:0 0 12px; border-bottom:1px solid var(--line); flex-wrap:wrap; }
.tab{ appearance:none; border:1px solid var(--line); border-bottom:2px solid transparent; background:#fff; color:#000; padding:.55rem .9rem; border-radius:10px 10px 0 0; font-weight:800; cursor:pointer; }
.tab[aria-selected="true"]{ color:var(--swf-red); border-color:#ffd5da #ffd5da var(--swf-red); background:#fff5f6; position:relative; top:1px; }
.tabpanel{ display:none !important; }
.tabpanel.active{ display:block !important; }

/* ===== HERO (with watermark + plaque) ===== */
.hero--pro{
  position: relative;
  padding: 64px 0 56px;
  background:
    radial-gradient(1200px 420px at 8% -10%, rgba(236,28,36,.10), rgba(236,28,36,0) 60%),
    linear-gradient(#fff 0%, #fff 58%, var(--bg) 100%);
  border-bottom: 1px solid var(--line);
  overflow: hidden;
}
.hero--pro:before{
  content:""; position:absolute; inset:0;
  background-image: linear-gradient(rgba(2,6,23,.035) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(2,6,23,.035) 1px, transparent 1px);
  background-size: 20px 20px;
  mask-image: radial-gradient(70% 50% at 10% 0%, #000 30%, transparent 70%);
  pointer-events:none;
}
.hero__wm{ position:absolute; inset:0 50% 0 0; background: url("https://cdn.shopify.com/s/files/1/1236/6284/files/swfnobg.png?v=1759258611") no-repeat; background-size: 560px auto; background-position: -60px -40px; opacity:.045; mix-blend-mode:multiply; pointer-events:none; }
.hero__stage{ position: relative; border-radius: 22px; overflow: hidden; background: #fff; border:1px solid var(--line); box-shadow: 0 20px 50px rgba(2,6,23,.08); }
.hero__stage:after{ content:""; position:absolute; left:10%; right:10%; bottom:-24px; height:60px; background: radial-gradient(40% 80% at 50% 0%, rgba(236,28,36,.18), transparent 70%); filter: blur(18px); z-index:0; }
.brand-plaque{ position:absolute; top:12px; right:12px; z-index:2; display:flex; align-items:center; gap:8px; background:#fff; border:1px solid var(--line); border-radius:999px; padding:.35rem .6rem; box-shadow:0 8px 18px rgba(2,6,23,.08); }
.brand-plaque img{ height:18px; width:auto; display:block; }
.brand-plaque span{ font-size:.78rem; font-weight:800; letter-spacing:.04em; color:var(--muted); text-transform:uppercase; }
.hero__media{ position:relative; z-index:1; }
.hero__media img{ width:100%; height:auto; display:block; object-fit:contain; background:#fff; }
.hero__chips{ display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 4px; }
.chip{ display:inline-flex; align-items:center; gap:.45rem; border:1px solid var(--line); background:#fff; border-radius:999px; padding:.4rem .7rem; font-weight:700; font-size:.85rem }
.chip svg{ width:16px; height:16px; flex:0 0 auto }
.hero__ctas{ display:flex; gap:12px; flex-wrap:wrap; margin-top:18px; }
.btn i{ font-style:normal; opacity:.7; }
@media (max-width:900px){
  .hero--pro{ padding-top:48px }
  .hero__wm{ background-size:360px auto; background-position:-50px -30px; opacity:.055 }
}
/* Give the KS card image a little breathing room */
#ks .media{ padding: 12px 18px; box-sizing: border-box; }
@media (max-width:900px){ #ks .media{ padding: 10px 14px; } }

/* ===== Dealer Locator ===== */
.locator-head{display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:10px}
.locator-row{display:flex;flex-wrap:wrap;gap:8px}
.locator-row .field{display:flex;align-items:center;gap:6px;border:1px solid var(--line);background:#fff;border-radius:12px;padding:.5rem .6rem}
.locator-row input[type="text"]{border:0;outline:0;background:transparent;font:inherit;min-width:220px}
.locator-row select{border:0;outline:0;background:transparent;font:inherit}
.locator-row .btn{padding:.55rem .8rem;border-radius:10px}
.locator-actions{display:flex;gap:8px;flex-wrap:wrap}
.resultbar{display:flex;align-items:center;justify-content:space-between;gap:10px;margin:4px 0 12px}
.resultbar small{color:var(--muted)}
.btn-clear{background:#fff;border:1px solid var(--line);border-radius:10px;padding:.45rem .7rem;font-weight:700;cursor:pointer}

.dealer-grid{display:grid;gap:12px}
.dealer-item{border:1px solid var(--line);background:#fff;border-radius:14px;padding:12px;box-shadow:0 6px 18px rgba(2,6,23,.06)}
.dealer-item h3{margin:0 0 4px;font-size:18px}
.dealer-meta{display:flex;gap:8px;flex-wrap:wrap;color:var(--muted);font-size:14px}
.dealer-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.dealer-chip{display:inline-flex;gap:.4rem;align-items:center;border:1px solid var(--line);border-radius:999px;padding:.25rem .55rem;font-weight:700;font-size:.78rem;background:#fff}
.dealer-chip.single{background:#eefcf5;border-color:#d1fae5}
.dealer-chip.multi{background:#eef2ff;border-color:#e0e7ff}
.group-head{font-weight:800;letter-spacing:.02em;margin:12px 0 8px;color:#475569}
.empty-state{border:1px dashed var(--line);border-radius:14px;padding:18px;text-align:center;color:var(--muted)}
.badge-online{background:#f1f5f9;border:1px solid #e2e8f0;border-radius:8px;padding:.2rem .45rem;font-size:.72rem;font-weight:800}

/* Map pane */
.mapwrap{border:1px solid var(--line);background:#fff;border-radius:14px;overflow:hidden}
#dealerMap{height:420px;width:100%}
.map-hidden{display:none}

/* Sticky on mobile */
@media (max-width:760px){
  .locator-head{position:sticky;top:56px;background:#fff;z-index:10;padding:10px 0;border-bottom:1px solid var(--line)}
}

/* Small buttons inside cards */
.dealer-actions .btn{padding:.5rem .7rem;border-radius:10px;font-weight:700}

/* Contact layout */
.contact { padding: 6rem 0; background: var(--bg, #ffffff); }
.contact .container { max-width: 1200px; margin: 0 auto; padding: 0 1.25rem; }
.contact-grid { display: grid; grid-template-columns: 1.05fr 1fr; gap: 2.25rem; align-items: start; }
@media (max-width: 940px){ .contact-grid { grid-template-columns: 1fr; } }


.h-xl { font-size: clamp(1.75rem, 1.6rem + 1.1vw, 2.5rem); line-height: 1.15; color: var(--ink, #0f172a); margin: 0 0 .75rem; }
.lead { color: var(--muted, #64748b); font-size: 1.05rem; margin: 0 0 1.25rem; }
.contact-points { list-style: none; padding: 0; margin: 0 0 1rem; color: var(--ink, #0f172a);}
.contact-points li { margin: .35rem 0; }
.badge { display: inline-block; padding: .4rem .7rem; border-radius: 999px; background: #f6f7f9; border: 1px solid var(--line, #e2e8f0); font-size: .85rem; margin-right: .5rem; color: var(--ink, #0f172a); }


/* Jotform wrapper (iframe is injected by their script) */
.contact-form { position: relative; }
.jotform-embed { background: #fff; border: 1px solid var(--line, #e2e8f0); border-radius: 18px; box-shadow: 0 8px 24px rgba(15,23,42,.06); padding: 0; overflow: hidden; }
/* Let the iframe breathe on mobile */
@media (max-width: 640px){ .jotform-embed { border-radius: 14px; } }


/* Ensure the injected iframe fills the wrapper */
.jotform-embed iframe { width: 100% !important; min-height: 980px; border: 0; display: block; }
@media (max-width: 940px){ .jotform-embed iframe { min-height: 1100px; } }  

/* ---- Contact form expander ---- */
.form-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}
.form-title{margin:0;font-size:1.25rem;color:var(--ink,#0f172a)}
.btn{display:inline-flex;align-items:center;gap:.5rem;border:0;border-radius:9999px;padding:.7rem 1.1rem;font-weight:700;cursor:pointer}
.btn-primary{background:#E01A22;color:#fff;box-shadow:0 8px 18px rgba(224,26,34,.22)}
.btn-primary:hover{background:#C9151C}

/* Collapsible wrapper */
.jot-wrap{position:relative;background:#fff;border:1px solid var(--line,#e2e8f0);
  border-radius:18px;box-shadow:0 8px 24px rgba(15,23,42,.06);
  overflow:hidden;transition:max-height .5s ease}
.jot-inner iframe{width:100%!important;border:0;display:block}

/* Collapsed preview height */
.jot-wrap.is-collapsed{max-height:560px}
@media(max-width:940px){.jot-wrap.is-collapsed{max-height:520px}}

/* Gradient mask hint */
.jot-mask{position:absolute;inset:auto 0 0 0;height:160px;pointer-events:none;
  background:linear-gradient(to bottom,rgba(255,255,255,0)0%,rgba(255,255,255,.92)60%,#fff 100%);
  display:flex;align-items:flex-end;justify-content:center;padding:1rem}
.jot-hint{font-size:.9rem;color:var(--muted,#64748b);background:#fff;
  border:1px solid var(--line,#e2e8f0);border-radius:999px;padding:.4rem .8rem;
  box-shadow:0 6px 14px rgba(15,23,42,.06)}

/* Expanded state */
.jot-wrap.is-expanded{max-height:4000px}
.jot-wrap.is-expanded .jot-mask{display:none}
  
</style> 
</head>
<body>

<!-- =================== HEADER =================== -->
<header class="site-header" id="siteHeader">
  <div class="container header-row">
    <a href="#" class="brand">
      <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/swfnobg.png?v=1759258611" alt="SWF" />
    </a>

    <nav class="nav" aria-label="Main">
      <a class="nav-link" href="#series">Machines</a>
      <a class="nav-link" href="#financing">Financing</a>
      <a class="nav-link" href="#support">Support</a>
      <a class="nav-link" href="#locator">Dealer&nbsp;Locator</a>
      <a class="btn nav-cta" href="https://stitch-it-support-site.web.app/supportForm" target="_blank" rel="noopener">Support Ticket</a>
    </nav>

    <button id="menuBtn" class="btn mobile-btn" aria-expanded="false" aria-controls="mobileMenu">
      Menu
    </button>
  </div>

  <div id="mobileMenu" class="mobile-panel" hidden>
    <div class="container mobile-grid">
      <a class="m-link" href="#series">Machines</a>
      <a class="m-link" href="#financing">Financing</a>
      <a class="m-link" href="#support">Support</a>
      <a class="m-link" href="#locator">Dealer Locator</a>
      <a class="btn nav-cta m-cta" href="https://stitch-it-support-site.web.app/supportForm" target="_blank" rel="noopener">Support Ticket</a>
    </div>
  </div>
</header>

<main>
  <!-- =================== HERO =================== -->
  <section class="section hero--pro">
    <div class="hero__wm" aria-hidden="true"></div>
    <div class="container grid-2">
      <div>
        <div class="badge badge-flagship" style="margin-bottom:8px">Embroidery • Built for Hats</div>
        <h1 class="h1">SWF Embroidery<br>Machines</h1>

        <div class="hero__chips" aria-label="Key benefits">
          <span class="chip">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M3 12l9-6 9 6-9 6-9-6zM3 12v5l9 6 9-6v-5"/></svg>
            Built for hats
          </span>
          <span class="chip">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M4 7h16M4 12h16M4 17h16"/></svg>
            1–8 heads
          </span>
          <span class="chip">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M4 4h16v16H4zM8 8h8v8H8z"/></svg>
            U.S. dealer network
          </span>
        </div>

        <p class="p-muted" style="margin-top:10px;max-width:62ch">
          Explore the KX, KS, KE, ES, MAS—and the Sunny 7-needle—reliable stitch quality, speed, and a cap system engineered for structured hats. Connect with authorized dealers, get support, and explore financing.
        </p>

        <div class="hero__ctas">
          <a class="btn btn-primary" href="#series">See Machines</a>
          <a class="btn btn-outline" href="#locator"><i>📍</i> Find a Dealer</a>
          <a class="btn btn-outline" href="#financing"><i>💳</i> Financing</a>
        </div>
      </div>

      <div class="hero__stage">
        <div class="brand-plaque" aria-hidden="true">
          <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/swfnobg.png?v=1759258611" alt="">
          <span>Official U.S. Site</span>
        </div>
        <div class="hero__media">
          <picture>
            <source srcset="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/KX_6_head.png?v=1759270180" type="image/png">
            <img src="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/KX_6_head.png?v=1759270180"
                 alt="SWF KX 6-Head embroidery machine" loading="eager" width="1100" height="700">
          </picture>
        </div>
      </div>
    </div>
  </section>

  <!-- =================== SERIES =================== -->
  <section id="series" class="section">
    <div class="container">
      <h2 class="h2" style="margin-bottom:8px">Choose Your Series</h2>
      <p class="p-muted" style="max-width:60ch">Pick the family that fits your volume and workflow. Specs vary by model—talk to a dealer for details.</p>

      <div class="hcards">
        <!-- KX -->
        <article class="hcard" id="kx">
          <div class="media">
            <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/kx_series.png?v=1759259733" alt="KX Series">
          </div>
          <div class="body">
            <div class="meta">
              <span class="badge badge-flagship">Flagship Series</span>
              <span class="pill">Call for Pricing</span>
              <span class="heads">Heads: 1–8</span>
            </div>
            <h3 class="h3">KX Series</h3>
            <p class="p-muted" style="margin:8px 0 10px">
              High-performance single and two-head options with a redesigned cap system engineered
              for structured hats. Fast changeover and rugged chassis for daily production.
            </p>
            <div class="mini-gallery">
              <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/KX_single.jpg?v=1759260196" alt="KX Single Head"></div>
              <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/KX_T1502D.png?v=1759260378" alt="KX-T1502D Dual-Function"></div>
            </div>
            <div class="cta-row" style="margin-top:12px">
              <a class="btn btn-primary js-view-series" href="#kx" data-target="#kx-details" aria-expanded="false">View KX Series <span class="chev">▾</span></a>
              <a class="btn btn-outline" href="#locator">Find a Dealer</a>
              <a class="btn btn-outline" href="#financing">Financing Options</a>
            </div>

            <!-- KX DETAILS -->
            <div id="kx-details" class="series-details" role="region" aria-label="KX Series details" aria-hidden="true">
              <div class="tabs" data-tabs id="kx-tabs">
                <div class="tablist" role="tablist" aria-label="KX tabs">
                  <button class="tab" role="tab" aria-selected="true" aria-controls="kx-overview"  id="tab-kx-overview">Overview</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="kx-specs"     id="tab-kx-specs">Specs</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="kx-videos"    id="tab-kx-videos">Videos</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="kx-downloads" id="tab-kx-downloads">Downloads</button>
                </div>

                <!-- OVERVIEW -->
                <div class="tabpanel active" role="tabpanel" id="kx-overview" aria-labelledby="tab-kx-overview" tabindex="0">
                  <div class="specs kx-grid">
                    <div class="spec-card">
                      <h4>Why shops choose <strong>KX</strong> (the flagship)</h4>
                      <div class="spec-list" style="margin-left:0">
                        <li><strong>Built for hats—really.</strong> Redesigned cap + slim cylinder arm for clean stitching on structured hats at speed.</li>
                        <li><strong>Speed without compromise.</strong> SAP smart presser foot + STS smart tension keep quality up at high SPM.</li>
                        <li><strong>Real uptime.</strong> Fast changeovers, SWNS wireless job send, rugged chassis.</li>
                        <li><strong>Lower cost per order.</strong> Fewer rejects, fewer reruns, more revenue hours per shift.</li>
                        <li><strong>Scales with you.</strong> Start single-head, add multi-head (4/6/8), or step into <em>KX-T1502D</em> dual-function.</li>
                      </div>
                      <div class="included">
                        <strong>Included with every KX</strong>
                        <div class="items">
                          <div class="item"><span class="dot">✓</span><div>High-speed cap frame set</div></div>
                          <div class="item"><span class="dot">✓</span><div>Tubular hoops (assorted sizes)</div></div>
                          <div class="item"><span class="dot">✓</span><div>15″ touch LCD controller</div></div>
                          <div class="item"><span class="dot">✓</span><div>SWNS wireless job send (network ready)</div></div>
                          <div class="item"><span class="dot">✓</span><div>Dealer install & operator training</div></div>
                          <div class="item"><span class="dot">✓</span><div>U.S. warranty & lifetime technical support</div></div>
                        </div>
                        <small>Packages vary by dealer/model.</small>
                      </div>
                    </div>

                    <div class="spec-card">
                      <h4>At-a-glance</h4>
                      <ul class="spec-list">
                        <li><strong>Heads:</strong> 1–8 (incl. dual-function 2-head)</li>
                        <li><strong>Use case:</strong> hats-first shops, quick-turn orders, daily production</li>
                        <li><strong>Operator wins:</strong> fewer tweaks, faster changeovers, wireless job send</li>
                        <li><strong>Growth path:</strong> add heads or stations—same controls, same workflow</li>
                      </ul>
                      <div class="spec-card callout" style="margin-top:10px">
                        <strong>When KX shines</strong>
                        <div class="note">• Cap work is growing • Need quality at 1k+ spm • Want to queue designs over Wi-Fi</div>
                      </div>
                      <div class="cta-row" style="margin-top:10px">
                        <a class="btn btn-primary" href="#financing">Financing Options</a>
                        <a class="btn btn-outline" href="#locator">Find a Dealer</a>
                        <a class="btn btn-outline" href="#contact">Talk to SWF</a>
                      </div>
                    </div>
                  </div>

                  <div class="gallery-row" aria-label="KX gallery">
                    <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/KX_single.jpg?v=1759260196" alt="KX Single Head"></div>
                    <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/KX_T1502D.png?v=1759260378" alt="KX-T1502D Dual-Function"></div>
                    <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/kx_series.png?v=1759259733" alt="KX Series lineup"></div>
                  </div>
                  <p class="note" style="margin-top:8px">Specs vary by configuration. No public pricing—<em>call for pricing</em> via an authorized dealer.</p>
                </div>

                <!-- SPECS -->
                <div class="tabpanel" role="tabpanel" id="kx-specs" aria-labelledby="tab-kx-specs" tabindex="0">
                  <div class="specs-grid">
                    <div class="spec-card">
                      <h4>KX Single-Head</h4>
                      <table>
                        <tr><th>Max Speed</th><td>1,200 spm (flat), 1,000 spm (cap)</td></tr>
                        <tr><th>Embroidery Field</th><td>Up to 520 × 360 mm</td></tr>
                        <tr><th>Needles</th><td>15</td></tr>
                        <tr><th>Memory</th><td>Up to 40,000,000 stitches</td></tr>
                        <tr><th>Control</th><td>15″ touch LCD (advanced job controls)</td></tr>
                        <tr><th>Automation</th><td>SAP presser foot, STS smart tension, SWNS wireless</td></tr>
                        <tr><th>Cap System</th><td>High-speed cap frame; quick/easy change</td></tr>
                        <tr><th>Power</th><td>100–240V, 50/60Hz</td></tr>
                      </table>
                    </div>
                    <div class="spec-card">
                      <h4>KX-T1502D (Dual-Function 2-Head)</h4>
                      <table>
                        <tr><th>Max Speed</th><td>1,200 spm (flat), 1,000 spm (cap)</td></tr>
                        <tr><th>Embroidery Field</th><td>Up to 520 × 360 mm</td></tr>
                        <tr><th>Needles</th><td>15 × 2 heads</td></tr>
                        <tr><th>Operation</th><td>Run two different items/patterns simultaneously</td></tr>
                        <tr><th>Control</th><td>15″ touch LCD; wireless networking</td></tr>
                        <tr><th>Automation</th><td>SAP, STS; quick cap changes</td></tr>
                        <tr><th>Power</th><td>100–240V, 50/60Hz</td></tr>
                      </table>
                    </div>
                    <div class="spec-card">
                      <h4>KX Multi-Head (4 / 6 / 8)</h4>
                      <table>
                        <tr><th>Heads</th><td>4, 6, or 8</td></tr>
                        <tr><th>Needles</th><td>15 per head</td></tr>
                        <tr><th>Max Speed</th><td>Up to 1,200 spm (flat)</td></tr>
                        <tr><th>Embroidery Field</th><td>Large tubular area (model-dependent)</td></tr>
                        <tr><th>Control</th><td>15″ touch LCD; SWNS wireless (job queue/send)</td></tr>
                        <tr><th>Cap System</th><td>High-speed cap frames; fast changeovers</td></tr>
                        <tr><th>Power</th><td>Per model; consult dealer</td></tr>
                      </table>
                    </div>
                  </div>
                  <p class="note" style="margin-top:8px">Exact specs vary by model/package. Your dealer will confirm the correct configuration.</p>
                </div>

                <!-- VIDEOS -->
                <div class="tabpanel" role="tabpanel" id="kx-videos" aria-labelledby="tab-kx-videos" tabindex="0">
                  <div class="video-grid">
                    <iframe title="KX Single Head" src="https://www.youtube.com/embed/JGvx7qR-Z8c" allowfullscreen loading="lazy"></iframe>
                    <iframe title="KX Multi Head (4–8)" src="https://www.youtube.com/embed/qaDz0VXBX3M" allowfullscreen loading="lazy"></iframe>
                    <iframe title="KX Dual 2-Head (T1502D)" src="https://www.youtube.com/embed/lMtjbxIf4pw" allowfullscreen loading="lazy"></iframe>
                  </div>
                </div>

                <!-- DOWNLOADS -->
                <div class="tabpanel" role="tabpanel" id="kx-downloads" aria-labelledby="tab-kx-downloads" tabindex="0">
                  <div class="spec-card">
                    <h4>Brochures & PDFs</h4>
                    <div class="dl-cards">
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/KX_Single_EN_5.pdf?v=1759267471" data-title="KX Single — Brochure (PDF)">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>KX Single — Brochure</h5><p>Specs, features & accessories</p></div>
                      </button>
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/KX_Tubular_EN_5.pdf?v=1759267471" data-title="KX Multi-Head — Brochure (PDF)">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>KX Multi-Head — Brochure</h5><p>4 / 6 / 8 head lineup</p></div>
                      </button>
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/KX_Dual_EN_6.pdf?v=1759267470" data-title="KX Dual 2-Head — Brochure (PDF)">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>KX Dual 2-Head — Brochure</h5><p>Dual-function T1502D details</p></div>
                      </button>
                    </div>
                    <p class="note" style="margin-top:8px">Brochures open in a pop-up viewer. You can download from the viewer if needed.</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- /KX DETAILS -->
          </div>
        </article>

        <!-- KS -->
        <article class="hcard" id="ks">
          <div class="media">
            <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/KS_Series_card.png?v=1759501740" alt="KS Series">
          </div>
          <div class="body">
            <div class="meta">
              <span class="badge badge-performance">Performance Series</span>
              <span class="pill">Call for Pricing</span>
              <span class="heads">Heads: 2, 4, 6, 8</span>
            </div>
            <h3 class="h3">KS Series</h3>
            <p class="p-muted" style="margin:8px 0 10px">
              Smart, cap-ready multi-heads that balance speed and sophistication—more automation than KE without stepping up to KX.
            </p>
            <div class="mini-gallery">
              <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/KS_Series_thumb_ceaad5ef-9389-4024-92b1-eb35ef88862c.png?v=1759501739" alt="KS Multi-Head"></div>
            </div>
            <div class="cta-row">
              <a class="btn btn-primary js-view-series" href="#ks" data-target="#ks-details" aria-expanded="false">
                View KS Series <span class="chev">▾</span>
              </a>
              <a class="btn btn-outline" href="#locator">Find a Dealer</a>
              <a class="btn btn-outline" href="#financing">Financing Options</a>
            </div>

            <!-- KS DETAILS -->
            <div id="ks-details" class="series-details" role="region" aria-label="KS Series details" aria-hidden="true">
              <div class="tabs" data-tabs id="ks-tabs">
                <div class="tablist" role="tablist" aria-label="KS tabs">
                  <button class="tab" role="tab" aria-selected="true"  aria-controls="ks-overview"  id="tab-ks-overview">Overview</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="ks-specs"     id="tab-ks-specs">Specs</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="ks-videos"    id="tab-ks-videos">Videos</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="ks-downloads" id="tab-ks-downloads">Downloads</button>
                </div>

                <!-- OVERVIEW -->
                <div class="tabpanel active" role="tabpanel" id="ks-overview" aria-labelledby="tab-ks-overview" tabindex="0">
                  <div class="specs">
                    <div class="spec-card">
                      <h4>Why shops choose <strong>KS</strong> (performance multi-heads)</h4>
                      <ul class="spec-list">
                        <li><strong>Cap-first design:</strong> slim cylinder & improved arm angle for cleaner hat stitching.</li>
                        <li><strong>Fast changeovers:</strong> quick cap/tubular swaps; efficient daily workflow.</li>
                        <li><strong>Operator-friendly:</strong> 15″ full-touch LCD with advanced functions.</li>
                        <li><strong>Network ready:</strong> SWNS wireless send/queue across machines.</li>
                        <li><strong>Scalable lineup:</strong> 2/4/6/8-head in UH (400×450) or UK (500×450) variants.</li>
                      </ul>
                      <div class="included">
                        <strong>Included with most KS packages</strong>
                        <div class="items">
                          <div class="item"><span class="dot">✓</span><div>Quick-change cap frame set</div></div>
                          <div class="item"><span class="dot">✓</span><div>Tubular hoops — multiple sizes</div></div>
                          <div class="item"><span class="dot">✓</span><div>15″ touch LCD controller</div></div>
                          <div class="item"><span class="dot">✓</span><div>SWNS networking (wireless ready)</div></div>
                          <div class="item"><span class="dot">✓</span><div>Dealer install & training</div></div>
                          <div class="item"><span class="dot">✓</span><div>U.S. warranty & support</div></div>
                        </div>
                        <small>Exact contents vary by dealer/model.</small>
                      </div>
                    </div>
                    <div class="spec-card">
                      <h4>Models in the KS family</h4>
                      <ul class="spec-list">
                        <li>KS-UK1502-45</li>
                        <li>KS-UH1504-45 • KS-UK1504-45</li>
                        <li>KS-UH1506-45 • KS-UK1506-45</li>
                        <li>KS-UH1508-45 • KS-UK1508-45</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- SPECS -->
                <div class="tabpanel" role="tabpanel" id="ks-specs" aria-labelledby="tab-ks-specs" tabindex="0">
                  <div class="specs-grid">
                    <div class="spec-card">
                      <h4>Speed & Control</h4>
                      <table>
                        <tr><th>Max Speed</th><td>1,200 spm (flat), 1,000 spm (cap)</td></tr>
                        <tr><th>Controller</th><td>15″ full-touch LCD (advanced job functions)</td></tr>
                        <tr><th>Networking</th><td>SWNS wireless job send / queue</td></tr>
                      </table>
                    </div>
                    <div class="spec-card">
                      <h4>Fields (UH vs UK)</h4>
                      <table>
                        <tr><th>Flat (UH)</th><td>400 × 450 mm</td></tr>
                        <tr><th>Flat (UK)</th><td>500 × 450 mm</td></tr>
                        <tr><th>Cap</th><td>360 × 75 mm</td></tr>
                        <tr><th>Semi-cap</th><td>180 × 83 mm</td></tr>
                      </table>
                    </div>
                    <div class="spec-card">
                      <h4>Electrical</h4>
                      <table>
                        <tr><th>Power</th><td>100–240V, 50/60Hz</td></tr>
                        <tr><th>Memory</th><td>Up to 40,000,000 stitches</td></tr>
                      </table>
                    </div>
                  </div>
                  <p class="note" style="margin-top:8px">Specs may vary by configuration/year—your dealer will confirm details.</p>
                </div>

                <!-- VIDEOS -->
                <div class="tabpanel" role="tabpanel" id="ks-videos" aria-labelledby="tab-ks-videos" tabindex="0">
                  <div class="video-grid">
                    <iframe title="KS Series Overview" src="https://www.youtube.com/embed/NUH5Bfd23TQ" allowfullscreen loading="lazy"></iframe>
                  </div>
                </div>

                <!-- DOWNLOADS -->
                <div class="tabpanel" role="tabpanel" id="ks-downloads" aria-labelledby="tab-ks-downloads" tabindex="0">
                  <div class="spec-card">
                    <h4>Brochures & Links</h4>
                    <div class="dl-cards">
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/KS_Tubular_EN_3.pdf?v=1759498319" data-title="KS Series — Brochure (PDF)">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>KS Series — Brochure</h5><p>Official brochure (PDF)</p></div>
                      </button>
                      <button class="dl-card js-open-pdf" data-pdf="https://www.swfkorea.co.kr/index.php?module=Goods&action=SiteGoodsEn&sMode=VIEW_FORM&sCurrSortCd=002002&iGoodsCd=30&CurrentPage=1&sSearchField=&sSearchValue=" data-title="Manufacturer Page — KS Series">
                        <div class="pdf-ic">WEB</div>
                        <div><h5>Manufacturer Page</h5><p>Specs & features on swfkorea.co.kr</p></div>
                      </button>
                    </div>
                    <p class="note" style="margin-top:8px">Opens in a pop-up viewer so you can stay on this page.</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- /KS DETAILS -->
          </div>
        </article>
<!-- KE -->
<article class="hcard" id="ke">
  <div class="media">
    <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/Ke_Series.jpg?v=1759259733" alt="KE Series">
  </div>
  <div class="body">
    <div class="meta">
      <span class="badge badge-economy">Economy Series</span>
      <span class="pill">Call for Pricing</span>
      <span class="heads">Heads: 4, 6, 8</span>
    </div>
    <h3 class="h3">KE Series</h3>
    <p class="p-muted" style="margin:8px 0 10px">
      Reliable multi-heads that balance simplicity and throughput—great cost per head without giving up SWF stitch quality.
    </p>
    <div class="mini-gallery">
      <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/Ke_Series.jpg?v=1759259733" alt="KE Multi-Head"></div>
    </div>
    <div class="cta-row">
      <a class="btn btn-primary js-view-series" href="#ke" data-target="#ke-details" aria-expanded="false">View KE Series <span class="chev">▾</span></a>
      <a class="btn btn-outline" href="#locator">Find a Dealer</a>
      <a class="btn btn-outline" href="#financing">Financing Options</a>
    </div>

    <!-- KE DETAILS -->
    <div id="ke-details" class="series-details" role="region" aria-label="KE Series details" aria-hidden="true">
      <div class="tabs" data-tabs id="ke-tabs">
        <div class="tablist" role="tablist" aria-label="KE tabs">
          <button class="tab" role="tab" aria-selected="true"  aria-controls="ke-overview"  id="tab-ke-overview">Overview</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="ke-specs"     id="tab-ke-specs">Specs</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="ke-videos"    id="tab-ke-videos">Videos</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="ke-downloads" id="tab-ke-downloads">Downloads</button>
        </div>

        <!-- OVERVIEW -->
        <div class="tabpanel active" role="tabpanel" id="ke-overview" aria-labelledby="tab-ke-overview" tabindex="0">
          <div class="specs">
            <div class="spec-card">
              <h4>Why shops choose <strong>KE</strong> (the value workhorse)</h4>
              <div class="spec-list" style="margin-left:0">
                <li><strong>Lower cost per head</strong> with SWF reliability—ideal for scaling capacity.</li>
                <li><strong>Hat-friendly design</strong> with a high-speed <strong>270° wide cap frame system</strong> for smooth cap stitching.</li>
                <li><strong>Operator-friendly</strong> 15.1″ LCD, clear menus, fast color changes.</li>
                <li><strong>Network ready</strong> with SWNS wireless job send / queue.</li>
              </div>
              <div class="included">
                <strong>Included with most KE packages</strong>
                <div class="items">
                  <div class="item"><span class="dot">✓</span><div><strong>270° wide cap frame system</strong></div></div>
                  <div class="item"><span class="dot">✓</span><div>Tubular hoops — multiple sizes</div></div>
                  <div class="item"><span class="dot">✓</span><div>15.1″ touch LCD controller</div></div>
                  <div class="item"><span class="dot">✓</span><div>SWNS networking (wireless ready)</div></div>
                  <div class="item"><span class="dot">✓</span><div>Dealer install & training</div></div>
                  <div class="item"><span class="dot">✓</span><div>U.S. warranty & support</div></div>
                </div>
                <small>Exact contents vary by dealer/model.</small>
              </div>
            </div>

            <div class="spec-card">
              <h4>At-a-glance</h4>
              <ul class="spec-list">
                <li><strong>Heads:</strong> 4 / 6 / 8</li>
                <li><strong>Needles:</strong> 15 per head</li>
                <li><strong>Speed:</strong> up to ~1,200 SPM (flat); ~1,000 SPM (cap)</li>
                <li><strong>Sewing field (flat):</strong> ~400 × 450 mm</li>
                <li><strong>Cap field:</strong> ~360 × 75 mm</li>
                <li><strong>Control:</strong> 15.1″ full-color touch LCD</li>
                <li><strong>Features:</strong> Cap-ready design; SWNS networking</li>
              </ul>
              <div class="spec-card callout" style="margin-top:10px">
                <strong>Best for</strong>
                <div class="note">High-volume logos, hats, uniforms, and everyday production where ROI per head matters.</div>
              </div>
              <div class="cta-row" style="margin-top:10px">
                <a class="btn btn-primary" href="#financing">Financing Options</a>
                <a class="btn btn-outline" href="#locator">Find a Dealer</a>
                <a class="btn btn-outline" href="#contact">Talk to SWF</a>
              </div>
            </div>
          </div>
        </div>

        <!-- SPECS -->
        <div class="tabpanel" role="tabpanel" id="ke-specs" aria-labelledby="tab-ke-specs" tabindex="0">
          <div class="specs-grid">
            <div class="spec-card">
              <h4>KE — 4-Head</h4>
              <table>
                <tr><th>Heads</th><td>4</td></tr>
                <tr><th>Needles</th><td>15 / head</td></tr>
                <tr><th>Max Speed</th><td>Up to ~1,200 SPM (flat)</td></tr>
                <tr><th>Flat Sewing Field</th><td>~400 × 450 mm</td></tr>
                <tr><th>Cap Sewing Field</th><td>~360 × 75 mm</td></tr>
                <tr><th>Control</th><td>15.1″ LCD touch</td></tr>
                <tr><th>Networking</th><td>SWNS Wi-Fi / LAN</td></tr>
              </table>
            </div>
            <div class="spec-card">
              <h4>KE — 6-Head</h4>
              <table>
                <tr><th>Heads</th><td>6</td></tr>
                <tr><th>Needles</th><td>15 / head</td></tr>
                <tr><th>Max Speed</th><td>~1,000 SPM</td></tr>
                <tr><th>Flat Sewing Field</th><td>~400 × 450 mm</td></tr>
                <tr><th>Cap Sewing Field</th><td>~360 × 75 mm</td></tr>
                <tr><th>Control</th><td>15.1″ LCD touch</td></tr>
                <tr><th>Notes</th><td>Cap-optimized workflow; standard cylinder bed</td></tr>
              </table>
            </div>
            <div class="spec-card">
              <h4>KE — 8-Head</h4>
              <table>
                <tr><th>Heads</th><td>8</td></tr>
                <tr><th>Needles</th><td>15 / head</td></tr>
                <tr><th>Max Speed</th><td>Up to ~1,200 SPM (flat)</td></tr>
                <tr><th>Flat Sewing Field</th><td>~400 × 450 mm</td></tr>
                <tr><th>Cap Sewing Field</th><td>~360 × 75 mm</td></tr>
                <tr><th>Control</th><td>15.1″ LCD touch</td></tr>
                <!-- No Automation row (KE does not have SAP/STS) -->
              </table>
            </div>
          </div>
          <p class="note" style="margin-top:8px">Exact specs vary by configuration/year—your dealer will confirm details.</p>
        </div>

        <!-- VIDEOS -->
        <div class="tabpanel" role="tabpanel" id="ke-videos" aria-labelledby="tab-ke-videos" tabindex="0">
          <div class="video-grid">
            <iframe title="KE Series Overview" src="https://www.youtube.com/embed/650irwOZM4A" allowfullscreen loading="lazy"></iframe>
          </div>
        </div>

        <!-- DOWNLOADS -->
        <div class="tabpanel" role="tabpanel" id="ke-downloads" aria-labelledby="tab-ke-downloads" tabindex="0">
          <div class="spec-card">
            <h4>Brochures & Links</h4>
            <div class="dl-cards">
              <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/KE_TUBULAR_8.pdf?v=1759349664" data-title="KE Series — Brochure (PDF)">
                <div class="pdf-ic">PDF</div>
                <div><h5>KE Series — Brochure</h5><p>Official brochure (PDF)</p></div>
              </button>
              <button class="dl-card js-open-pdf" data-pdf="https://www.swfkorea.co.kr/index.php?module=Goods&action=SiteGoodsEn&sMode=VIEW_FORM&sCurrSortCd=002002&iGoodsCd=29&CurrentPage=1&sSearchField=&sSearchValue=" data-title="Manufacturer Page — KE Series">
                <div class="pdf-ic">WEB</div>
                <div><h5>Manufacturer Page</h5><p>Specs & features on swfkorea.co.kr</p></div>
              </button>
            </div>
            <p class="note" style="margin-top:8px">Opens in a pop-up viewer so you can stay on this page.</p>
          </div>
        </div>
      </div>
    </div>
    <!-- /KE DETAILS -->
  </div>
</article>

        <!-- ES (UPDATED: ES-T1501 only) -->
        <article class="hcard" id="es">
          <div class="media">
            <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/es_full_size.jpg?v=1759260197" alt="ES Series — ES-T1501" loading="lazy">
          </div>
          <div class="body">
            <div class="meta">
              <span class="pill">Call for Pricing</span>
              <span class="heads">Heads: Single-head (ES-T1501)</span>
            </div>
            <h3 class="h3">ES Series</h3>
            <p class="p-muted" style="margin:8px 0 10px">Full-size single head with pro-grade stitch quality—ideal for small to mid-volume shops or as a dedicated station for names, patches, and caps. <strong>Cap frame set included.</strong></p>
            <div class="mini-gallery">
              <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/es_full_size.jpg?v=1759260197" alt="ES-T1501 — full-size"></div>
            </div>
            <div class="cta-row">
              <a class="btn btn-primary js-view-series" href="#es" data-target="#es-details" aria-expanded="false">View ES Details <span class="chev">▾</span></a>
              <a class="btn btn-outline" href="#locator">Find a Dealer</a>
              <a class="btn btn-outline" href="#financing">Financing Options</a>
            </div>

            <!-- ES DETAILS (pop-down) -->
            <div id="es-details" class="series-details" role="region" aria-label="ES Series details" aria-hidden="true">
              <div class="tabs" data-tabs id="es-tabs">
                <div class="tablist" role="tablist" aria-label="ES tabs">
                  <button class="tab" role="tab" aria-selected="true"  aria-controls="es-overview"  id="tab-es-overview" type="button">Overview</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="es-specs"     id="tab-es-specs" type="button">Specs</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="es-videos"    id="tab-es-videos" type="button">Videos</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="es-downloads" id="tab-es-downloads" type="button">Downloads</button>
                </div>

                <!-- OVERVIEW -->
                <div class="tabpanel active" role="tabpanel" id="es-overview" aria-labelledby="tab-es-overview" tabindex="0">
                  <div class="specs">
                    <div class="spec-card">
                      <h4>Why shops choose <strong>ES-T1501</strong></h4>
                      <ul class="spec-list">
                        <li><strong>Full-size, sturdy chassis</strong> without sacrificing stitch quality.</li>
                        <li><strong>Hat-ready out of the box</strong> with included wide/semi cap frames.</li>
                        <li><strong>Color LCD touch</strong> controller with clear menus for quick setup.</li>
                        <li><strong>40M-stitch memory</strong> for large designs and repeat jobs.</li>
                        <li><strong>Free-voltage power</strong> (100–240V) for easy placement.</li>
                      </ul>
                    </div>
                    <div class="spec-card">
                      <h4>At-a-glance</h4>
                      <ul class="spec-list">
                        <li><strong>Model:</strong> ES-T1501 (15-needle)</li>
                        <li><strong>Max speed:</strong> up to 1,200 spm (flat)</li>
                        <li><strong>Flat field (border):</strong> 520 × 360 mm</li>
                        <li><strong>Tubular field:</strong> 412 × 357 mm</li>
                        <li><strong>Cap field:</strong> 360 × 75 mm (wide), 180 × 83 mm (semi)</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- SPECS -->
                <div class="tabpanel" role="tabpanel" id="es-specs" aria-labelledby="tab-es-specs" tabindex="0">
                  <div class="specs-grid">
                    <div class="spec-card">
                      <h4>ES-T1501 — Core Specs</h4>
                      <table>
                        <tr><th>Heads / Needles</th><td>1 head / 15 needles</td></tr>
                        <tr><th>Max Speed</th><td>1,200 spm (flat)</td></tr>
                        <tr><th>Embroidery Field (Flat)</th><td>520 × 360 mm</td></tr>
                        <tr><th>Embroidery Field (Tubular)</th><td>412 × 357 mm</td></tr>
                        <tr><th>Cap Frames</th><td>360 × 75 mm (wide), 180 × 83 mm (semi)</td></tr>
                        <tr><th>Operation Box</th><td>Color LCD Touch</td></tr>
                        <tr><th>Memory</th><td>Up to 40,000,000 stitches</td></tr>
                        <tr><th>Drive</th><td>BLDC main motor; X/Y pulse motors</td></tr>
                        <tr><th>Power</th><td>100–240V, 50/60Hz</td></tr>
                      </table>
                    </div>
                    <div class="spec-card">
                      <h4>Machine Size</h4>
                      <table>
                        <tr><th>L × W × H</th><td>1,191 × 1,113 × 1,408 mm (normal type)</td></tr>
                      </table>
                    </div>
                  </div>
                  <p class="note" style="margin-top:8px">Specs may vary by year/configuration; your dealer will confirm details.</p>
                </div>

                <!-- VIDEOS -->
                <div class="tabpanel" role="tabpanel" id="es-videos" aria-labelledby="tab-es-videos" tabindex="0">
                  <div class="video-grid">
                    <iframe title="ES Series Demo" src="https://www.youtube.com/embed/SXF3pEDHqn0" allowfullscreen loading="lazy"></iframe>
                  </div>
                </div>

                <!-- DOWNLOADS -->
                <div class="tabpanel" role="tabpanel" id="es-downloads" aria-labelledby="tab-es-downloads" tabindex="0">
                  <div class="spec-card">
                    <h4>Brochures & Links</h4>
                    <div class="dl-cards">
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/1236/6284/files/ES_Single_5.pdf?v=1760027445" data-title="ES-T1501 — Brochure (PDF)" type="button">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>ES-T1501 — Brochure</h5><p>Specs, fields & options (PDF)</p></div>
                      </button>
                      <button class="dl-card js-open-pdf" data-pdf="https://www.swfkorea.co.kr/index.php?module=Goods&action=SiteGoodsEn&sMode=VIEW_FORM&sCurrSortCd=002001&iGoodsCd=27&CurrentPage=1&sSearchField=&sSearchValue=" data-title="Manufacturer Page — ES Series" type="button">
                        <div class="pdf-ic">WEB</div>
                        <div><h5>Manufacturer Page</h5><p>Official specs & features</p></div>
                      </button>
                    </div>
                    <p class="note" style="margin-top:8px">Opens in a pop-up viewer so you can stay on this page.</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- /ES DETAILS -->
          </div>
        </article>

        <!-- MAS -->
        <article class="hcard" id="mas">
          <div class="media">
            <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/MAS-12.jpg?v=1759260197" alt="MAS Series">
          </div>
          <div class="body">
            <div class="meta">
              <span class="pill">Call for Pricing</span>
              <span class="heads">Heads: Single-head (MAS-12 & MAS-15)</span>
            </div>
            <h3 class="h3">MAS Series</h3>
            <p class="p-muted" style="margin:8px 0 10px">Modular automation in compact single-heads—great for names, patches, on-site personalization, and small runs.</p>
            <div class="mini-gallery">
              <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/MAS-12.jpg?v=1759260197" alt="MAS-12"></div>
            </div>
            <div class="cta-row">
              <a class="btn btn-primary js-view-series" href="#mas" data-target="#mas-details" aria-expanded="false">View MAS Details <span class="chev">▾</span></a>
              <a class="btn btn-outline" href="#locator">Find a Dealer</a>
              <a class="btn btn-outline" href="#financing">Financing Options</a>
            </div>

            <!-- MAS DETAILS -->
            <div id="mas-details" class="series-details" role="region" aria-label="MAS Series details" aria-hidden="true">
              <div class="tabs" data-tabs id="mas-tabs">
                <div class="tablist" role="tablist" aria-label="MAS tabs">
                  <button class="tab" role="tab" aria-selected="true"  aria-controls="mas-overview"  id="tab-mas-overview">Overview</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="mas-specs"     id="tab-mas-specs">Specs</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="mas-videos"    id="tab-mas-videos">Videos</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="mas-downloads" id="tab-mas-downloads">Downloads</button>
                </div>

                <!-- OVERVIEW -->
                <div class="tabpanel active" role="tabpanel" id="mas-overview" aria-labelledby="tab-mas-overview" tabindex="0">
                  <div class="specs">
                    <div class="spec-card">
                      <h4>Why shops choose <strong>MAS</strong></h4>
                      <ul class="spec-list">
                        <li><strong>Compact footprint</strong> for booths, pop-ups, and tight production spaces.</li>
                        <li><strong>Cap-ready</strong> with optional cap frames and slim cylinder arm.</li>
                        <li><strong>Touch LCD</strong> controller; simple workflows for quick personalization.</li>
                        <li><strong>Network-friendly</strong> for job transfer (model/year dependent).</li>
                      </ul>
                    </div>
                    <div class="spec-card">
                      <h4>Models in the family</h4>
                      <ul class="spec-list">
                        <li><strong>MAS-12</strong> — 12-needle compact single-head</li>
                        <li><strong>MAS-15</strong> — 15-needle compact single-head (same platform as ES-T1501C)</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- SPECS -->
                <div class="tabpanel" role="tabpanel" id="mas-specs" aria-labelledby="tab-mas-specs" tabindex="0">
                  <div class="specs-grid">
                    <div class="spec-card">
                      <h4>MAS-12 — Core Specs</h4>
                      <table>
                        <tr><th>Heads / Needles</th><td>1 head / 12 needles</td></tr>
                        <tr><th>Max Speed</th><td>Up to ~1,000 spm</td></tr>
                        <tr><th>Embroidery Field (Tubular)</th><td>Approx. 300 × 200 mm (model/year dependent)</td></tr>
                        <tr><th>Cap (optional)</th><td>Semi/wide cap frames available (per package)</td></tr>
                        <tr><th>Controller</th><td>Color LCD Touch</td></tr>
                        <tr><th>Power</th><td>100–240V, 50/60Hz</td></tr>
                      </table>
                    </div>
                    <div class="spec-card">
                      <h4>MAS-15 — Core Specs</h4>
                      <table>
                        <tr><th>Heads / Needles</th><td>1 head / 15 needles</td></tr>
                        <tr><th>Max Speed</th><td>Up to ~1,200 spm (flat), ~1,000 spm (cap)</td></tr>
                        <tr><th>Embroidery Field (Flat)</th><td>520 × 360 mm</td></tr>
                        <tr><th>Embroidery Field (Tubular)</th><td>412 × 357 mm</td></tr>
                        <tr><th>Cap Frames</th><td>360 × 75 mm (wide), 180 × 83 mm (semi)</td></tr>
                        <tr><th>Operation Box</th><td>Color LCD Touch</td></tr>
                        <tr><th>Memory</th><td>Up to 40,000,000 stitches</td></tr>
                        <tr><th>Drive</th><td>BLDC main motor; X/Y pulse motors</td></tr>
                        <tr><th>Power</th><td>100–240V, 50/60Hz</td></tr>
                      </table>
                    </div>
                  </div>
                  <p class="note" style="margin-top:8px">MAS-15 uses the ES-T1501C compact platform—specs may vary by year/package.</p>
                </div>

                <!-- VIDEOS -->
                <div class="tabpanel" role="tabpanel" id="mas-videos" aria-labelledby="tab-mas-videos" tabindex="0">
                  <div class="video-grid">
                    <iframe title="MAS-12 Demo" src="https://www.youtube.com/embed/FXqivUu4cfo" allowfullscreen loading="lazy"></iframe>
                    <iframe title="MAS-15 Demo" src="https://www.youtube.com/embed/jMvpN7zj3Vo" allowfullscreen loading="lazy"></iframe>
                  </div>
                </div>

                <!-- DOWNLOADS -->
                <div class="tabpanel" role="tabpanel" id="mas-downloads" aria-labelledby="tab-mas-downloads" tabindex="0">
                  <div class="spec-card">
                    <h4>Brochures & Links</h4>
                    <div class="dl-cards">
                      <!-- MAS-12 -->
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/1236/6284/files/MAS-12_2.pdf?v=1760029258" data-title="MAS-12 — Brochure (PDF)">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>MAS-12 — Brochure</h5><p>Official brochure (PDF)</p></div>
                      </button>
                      <!-- MAS-15 (uses ES Single compact brochure per instructions) -->
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/1236/6284/files/ES_Single_5.pdf?v=1760027445" data-title="MAS-15 — Brochure (PDF)">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>MAS-15 — Brochure</h5><p>Compact platform specs (PDF)</p></div>
                      </button>
                      <!-- Manufacturer pages -->
                      <button class="dl-card js-open-pdf" data-pdf="https://www.swfkorea.co.kr/index.php?module=Goods&action=SiteGoodsEn&sMode=VIEW_FORM&sCurrSortCd=002001&iGoodsCd=25&CurrentPage=1&sSearchField=&sSearchValue=" data-title="Manufacturer Page — MAS-12">
                        <div class="pdf-ic">WEB</div>
                        <div><h5>Manufacturer Page — MAS-12</h5><p>Official specs & features</p></div>
                      </button>
                      <button class="dl-card js-open-pdf" data-pdf="https://www.swfkorea.co.kr/index.php?module=Goods&action=SiteGoodsEn&sMode=VIEW_FORM&sCurrSortCd=002001&iGoodsCd=28&CurrentPage=1&sSearchField=&sSearchValue=" data-title="Manufacturer Page — MAS-15">
                        <div class="pdf-ic">WEB</div>
                        <div><h5>Manufacturer Page — MAS-15</h5><p>Official specs & features</p></div>
                      </button>
                    </div>
                    <p class="note" style="margin-top:8px">Opens in a pop-up viewer so you can stay on this page.</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- /MAS DETAILS -->
          </div>
        </article>

        <!-- SUNNY -->
        <article class="hcard" id="sunny">
          <div class="media">
            <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/Sunny_6.jpg?v=1759260197" alt="Sunny 7-needle Single Head">
          </div>
          <div class="body">
            <div class="meta">
              <span class="pill">Call for Pricing</span>
              <span class="heads">Heads: Single-head • 7-needle</span>
            </div>
            <h3 class="h3">Sunny — 7-Needle Single Head</h3>
            <p class="p-muted" style="margin:8px 0 10px">Compact 7-needle embroidery—ideal as an entry solution or complementary station for patches, names, and on-site personalization.</p>
            <div class="mini-gallery">
              <div class="thumb"><img src="https://cdn.shopify.com/s/files/1/1236/6284/files/Sunny_6.jpg?v=1759260197" alt="Sunny"></div>
            </div>
            <div class="cta-row">
              <a class="btn btn-primary js-view-series" href="#sunny" data-target="#sunny-details" aria-expanded="false">View Sunny Details <span class="chev">▾</span></a>
              <a class="btn btn-outline" href="#locator">Find a Dealer</a>
              <a class="btn btn-outline" href="#financing">Financing Options</a>
            </div>

            <!-- SUNNY DETAILS -->
            <div id="sunny-details" class="series-details" role="region" aria-label="Sunny details" aria-hidden="true">
              <div class="tabs" data-tabs id="sunny-tabs">
                <div class="tablist" role="tablist" aria-label="Sunny tabs">
                  <button class="tab" role="tab" aria-selected="true"  aria-controls="sunny-overview"  id="tab-sunny-overview">Overview</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="sunny-videos"    id="tab-sunny-videos">Videos</button>
                  <button class="tab" role="tab" aria-selected="false" aria-controls="sunny-downloads" id="tab-sunny-downloads">Downloads</button>
                </div>

                <div class="tabpanel active" role="tabpanel" id="sunny-overview" aria-labelledby="tab-sunny-overview" tabindex="0">
                  <div class="specs">
                    <div class="spec-card">
                      <h4>Why choose <strong>Sunny</strong></h4>
                      <ul class="spec-list">
                        <li>Easy-to-use 7-needle platform for names and small logos.</li>
                        <li>Great fit for kiosks, mobile events, and supplemental stations.</li>
                        <li>Touch LCD controls; simple day-to-day operation.</li>
                      </ul>
                    </div>
                    <div class="spec-card">
                      <h4>At-a-glance</h4>
                      <ul class="spec-list">
                        <li><strong>Needles:</strong> 7</li>
                        <li><strong>Controller:</strong> Color LCD Touch</li>
                        <li><strong>Cap capability:</strong> Optional cap frames (per package)</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div class="tabpanel" role="tabpanel" id="sunny-videos" aria-labelledby="tab-sunny-videos" tabindex="0">
                  <div class="video-grid">
                    <iframe title="Sunny Demo" src="https://www.youtube.com/embed/42-Y5YTWTiE" allowfullscreen loading="lazy"></iframe>
                  </div>
                </div>

                <div class="tabpanel" role="tabpanel" id="sunny-downloads" aria-labelledby="tab-sunny-downloads" tabindex="0">
                  <div class="spec-card">
                    <h4>Brochures & Links</h4>
                    <div class="dl-cards">
                      <button class="dl-card js-open-pdf" data-pdf="https://cdn.shopify.com/s/files/1/1236/6284/files/SUNNY22_EN_1.pdf?v=1760030151" data-title="Sunny — Brochure (PDF)">
                        <div class="pdf-ic">PDF</div>
                        <div><h5>Sunny — Brochure</h5><p>Specs & features (PDF)</p></div>
                      </button>
                      <button class="dl-card js-open-pdf" data-pdf="https://www.swfkorea.co.kr/index.php?module=Goods&action=SiteGoodsEn&sMode=VIEW_FORM&sCurrSortCd=002001&iGoodsCd=53&CurrentPage=1&sSearchField=&sSearchValue=" data-title="Manufacturer Page — Sunny">
                        <div class="pdf-ic">WEB</div>
                        <div><h5>Manufacturer Page</h5><p>Official specs & features</p></div>
                      </button>
                    </div>
                    <p class="note" style="margin-top:8px">Opens in a pop-up viewer so you can stay on this page.</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- /SUNNY DETAILS -->
          </div>
        </article>

      </div>
    </div>
  </section>

  <!-- WHY SWF -->
  <section class="section" style="background:#fff;border-top:1px solid var(--line);border-bottom:1px solid var(--line)">
    <div class="container" style="display:grid;grid-template-columns:repeat(4,1fr);gap:16px">
      <div class="hcard" style="grid-template-columns:1fr"><div class="body"><h3 class="h3">Built for Hats</h3><p class="p-muted">Cap system engineered for structured hats with smooth stitch quality at speed.</p></div></div>
      <div class="hcard" style="grid-template-columns:1fr"><div class="body"><h3 class="h3">U.S. Dealer Network</h3><p class="p-muted">Local install, training, and service from authorized SWF dealers.</p></div></div>
      <div class="hcard" style="grid-template-columns:1fr"><div class="body"><h3 class="h3">7-Year Warranty</h3><p class="p-muted">Industry-leading coverage backed in the United States.</p></div></div>
      <div class="hcard" style="grid-template-columns:1fr"><div class="body"><h3 class="h3">Lifetime Support</h3><p class="p-muted">Manuals, training content, and real humans when you need them.</p></div></div>
    </div>
  </section>

  <!-- FINANCING -->
  <section id="financing" class="section">
    <div class="container">
      <h2 class="h2">Financing — SWF × BYLD Finance</h2>
      <div class="fin-card">
        <div class="fin-grid">
          <div class="fin-body">
            <div class="fin-hero">
              <span class="tag">Financing Partner</span>
              <img src="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/byld_finance_logo.png?v=1746030247" alt="BYLD Finance">
            </div>
            <p class="p-muted" style="margin:0 0 8px">Upgrade faster and keep cash on hand. One simple application, a soft credit pull to explore options, and flexible structures that fit your workflow.</p>
            <div class="fin-trust" aria-label="Benefits">
              <span class="fin-badge"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M20 6L9 17l-5-5"/></svg>Soft credit pull</span>
              <span class="fin-badge"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M5 12h14M12 5l7 7-7 7"/></svg>Fast decisions</span>
              <span class="fin-badge"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M12 8v8m-4-4h8"/></svg>$0 down options*</span>
              <span class="fin-badge"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M3 7h18M3 12h18M3 17h18"/></svg>Bundle multiple machines</span>
              <span class="fin-badge"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M8 12l2 2 6-6"/></svg>No payments for 90 days†</span>
            </div>
            <div class="fin-steps" aria-label="How it works">
              <div class="step"><h4>1) Apply</h4><p>Submit the short application to preview terms without impacting your credit score.</p></div>
              <div class="step"><h4>2) Choose terms</h4><p>Pick the monthly payment and length that match your cash flow.</p></div>
              <div class="step"><h4>3) Fund equipment</h4><p>Get your SWF machines installed with a plan that scales as you grow.</p></div>
            </div>
            <div class="contact-card">
              <img src="https://cdn.shopify.com/s/files/1/0878/0608/3384/files/charlie_newest_headshot.png?v=1749240989" alt="Charlie McMinn">
              <div class="meta">
                <h4>Questions? Talk to Charlie McMinn</h4>
                <p>BYLD Finance — SWF Partner Liaison</p>
                <div class="contact-actions">
                  <a class="btn btn-outline" href="mailto:charlie@byldfinance.com">📧 Email Charlie</a>
                  <a class="btn btn-primary" href="tel:6129780728">📞 612-978-0728</a>
                </div>
              </div>
            </div>
            <p class="fin-note">Prefer to chat first? We’ll help you pick terms that match your production plan.</p>
            <p class="fin-disclaimer">*Subject to credit approval. †Available to qualified customers. Terms & conditions apply.</p>
          </div>

          <aside class="embed-wrap">
            <div class="embed-head">
              <h3>Apply with BYLD Finance</h3>
              <a class="btn btn-primary" href="https://form.jotform.com/251746356514157" target="_blank" rel="noopener">Open in new tab</a>
            </div>
            <div class="embed-body">
              <script type="text/javascript" src="https://form.jotform.com/jsform/251746356514157"></script>
            </div>
          </aside>
        </div>
      </div>
    </div>
  </section>

  <!-- SUPPORT -->
  <section id="support" class="section" style="background:#fff;border-top:1px solid var(--line);border-bottom:1px solid var(--line)">
    <div class="container">
      <h2 class="h2">Support & Resources</h2>
      <div class="hcards">
        <div class="hcard" style="grid-template-columns:1fr">
          <div class="body">
            <h3 class="h3">Manuals & Downloads</h3>
            <ul class="clean">
              <li><a style="color:var(--swf-red)" href="#kx/downloads" class="js-jump-kx-dl">KX Series brochures</a></li>
              <li><a style="color:var(--swf-red)" href="#ks/downloads" class="js-jump-ks-dl">KS resources</a></li>
              <li><a style="color:var(--swf-red)" href="#ke/downloads" class="js-jump-ke-dl">KE resources</a></li>
              <li><a style="color:var(--swf-red)" href="#es/downloads" class="js-jump-es-dl">ES resources</a></li>
              <li><a style="color:var(--swf-red)" href="#mas/downloads" class="js-jump-mas-dl">MAS resources</a></li>
              <li><a style="color:var(--swf-red)" href="#sunny/downloads" class="js-jump-sunny-dl">Sunny brochure</a></li>
            </ul>
          </div>
        </div>
        <div class="hcard" style="grid-template-columns:1fr">
          <div class="body">
            <h3 class="h3">Training & Videos</h3>
            <ul class="clean">
              <li><a style="color:var(--swf-red)" href="#ke/videos" class="js-jump-ke-vid">KE Series overview</a></li>
              <li><a style="color:var(--swf-red)" href="#kx/videos" class="js-jump-kx-vid">KX setup & changeover</a></li>
              <li><a style="color:var(--swf-red)" href="#mas/videos" class="js-jump-mas-vid">MAS demos</a></li>
              <li><a style="color:var(--swf-red)" href="#sunny/videos" class="js-jump-sunny-vid">Sunny demo</a></li>
            </ul>
          </div>
        </div>
        <div class="hcard" style="grid-template-columns:1fr">
          <div class="body">
            <h3 class="h3">Start a Support Ticket</h3>
            <p class="p-muted">Use our form to submit your details (model/serial, description, and short video if possible).</p>
            <a class="btn btn-primary" href="https://stitch-it-support-site.web.app/supportForm" target="_blank" rel="noopener">Open Support Form</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- =============== DEALER LOCATOR =============== -->
  <section id="locator" class="section" style="padding:40px 0">
    <div class="container">
      <h2 class="h2" style="margin-bottom:8px">Find a Dealer</h2>

      <!-- Controls -->
      <div class="locator-head">
        <div class="locator-row">
          <div class="field" style="flex:1;min-width:260px">
            🔎 <input id="dealerSearch" type="text" placeholder="Search dealer, city, phone…" aria-label="Search dealers" />
          </div>
          <div class="field">
            Type:
            <select id="dealerType" aria-label="Filter by type">
              <option value="">All</option>
              <option value="online">Online</option>
              <option value="retail">Retail</option>
            </select>
          </div>
          <div class="field">
            Certification:
            <select id="dealerCert" aria-label="Filter by certification">
              <option value="">Any</option>
              <option value="single">Single Head</option>
              <option value="multi">Multi-Head</option>
            </select>
          </div>
          <div class="field">
            Sort:
            <select id="dealerSort" aria-label="Sort results">
              <option value="alpha">A → Z</option>
              <option value="nearest">Nearest (retail & online)</option>
            </select>
          </div>
        </div>
        <div class="locator-actions">
          <button id="useLocation" class="btn btn-outline" type="button">📍 Use my location</button>
          <button id="toggleMap" class="btn btn-outline" type="button" aria-pressed="false">🗺️ Show Map</button>
        </div>
        <div class="resultbar">
          <small><span id="dealerCount">0</span> result(s)</small>
          <button id="dealerClear" class="btn-clear" type="button">Clear filters</button>
        </div>
      </div>

      <!-- Map -->
      <div id="mapPane" class="mapwrap map-hidden" aria-hidden="true">
        <div id="dealerMap" role="region" aria-label="Dealer map"></div>
      </div>

      <!-- Results -->
      <div id="dealerGroups" class="dealer-grid" style="margin-top:12px"></div>
    </div>
  </section>

  <!-- Contact -->
  <!-- Contact -->
<section id="contact" class="contact">
  <div class="container">
    <div class="contact-grid">
      <div class="contact-copy">
        <h2 class="h-xl">Talk to SWF USA</h2>
        <p class="lead">Tell us about your shop and which series you’re considering. A specialist will reach out with pricing, lead time, and embroidery-specific guidance.</p>
        <ul class="contact-points">
          <li><strong>Email:</strong> sales@stitchitintl.com</li>
          <li><strong>Phone:</strong> (573) 866-3676</li>
          <li><strong>Hours:</strong> Mon–Fri, 8:30–4:30 CT</li>
        </ul>
        <div class="badges">
          <span class="badge">Nationwide support</span>
          <span class="badge">Dealer financing</span>
          <span class="badge">Embroidery training</span>
        </div>
      </div>

      <!-- New expandable Jotform block -->
      <div class="contact-form">
        <div class="form-head">
          <h3 class="form-title">Lead Capture Form</h3>
          <button class="btn btn-primary" id="formToggle" aria-expanded="false" aria-controls="jotWrap">
            Start the form
          </button>
        </div>

        <div class="jot-wrap is-collapsed" id="jotWrap"
             data-src="https://form.jotform.com/jsform/252964696005162">
          <div class="jot-inner" id="jotInner"></div>

          <div class="jot-mask" aria-hidden="true">
            <div class="jot-hint">This form takes under 2 minutes</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- /Contact -->

<!-- Jotform expand/collapse script -->
<script>
(() => {
  const wrap  = document.getElementById('jotWrap');
  const inner = document.getElementById('jotInner');
  const toggle = document.getElementById('formToggle');

  let loaded = false;
  function loadJotform() {
    if (loaded) return;
    const s = document.createElement('script');
    s.src = wrap.dataset.src;
    inner.appendChild(s);
    loaded = true;
  }

  function expand(open) {
    wrap.classList.toggle('is-expanded', open);
    wrap.classList.toggle('is-collapsed', !open);
    toggle.setAttribute('aria-expanded', String(open));
    toggle.textContent = open ? 'Collapse form' : 'Start the form';
    if (open) {
      loadJotform();
      wrap.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }

  if (toggle) {
    toggle.addEventListener('click', () => {
      const isOpen = wrap.classList.contains('is-expanded');
      expand(!isOpen);
    });
  }

  const io = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting) { loadJotform(); io.disconnect(); }
  }, { rootMargin: '400px' });
  io.observe(wrap);

  if (location.hash === '#start-form') expand(true);
})();
</script>

<script>
(() => {
  const wrap  = document.getElementById('jotWrap');
  const inner = document.getElementById('jotInner');
  const toggle = document.getElementById('formToggle');

  let loaded = false;
  function loadJotform(){
    if (loaded) return;
    const s = document.createElement('script');
    s.src = wrap.dataset.src;
    inner.appendChild(s);
    loaded = true;
  }

  function expand(open){
    wrap.classList.toggle('is-expanded', open);
    wrap.classList.toggle('is-collapsed', !open);
    toggle.setAttribute('aria-expanded', String(open));
    toggle.textContent = open ? 'Collapse form' : 'Start the form';
    if (open) {
      loadJotform();
      wrap.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }

  // Toggle click
  if (toggle) {
    toggle.addEventListener('click', () => {
      const isOpen = wrap.classList.contains('is-expanded');
      expand(!isOpen);
    });
  }

  // Lazy load when near viewport (keeps initial page snappy)
  const io = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting) { loadJotform(); io.disconnect(); }
  }, { rootMargin: '400px' });
  io.observe(wrap);

  // Deep link support: https://swf-usa.com/#start-form opens expanded
  if (location.hash === '#start-form') expand(true);
})();
</script>
<!-- /Contact --> 
</main>  
  

<!-- Footer -->
<footer>
  <div class="container cols" style="padding:22px 0">
    <div>
      <img src="https://cdn.shopify.com/s/files/1/1236/6284/files/swfnobg.png?v=1759258611" alt="SWF" style="height:30px;margin-bottom:8px" />
      <p class="p-muted" style="margin:0">Official U.S. site for SWF embroidery equipment and support.</p>
    </div>
    <div><h4 class="h3" style="margin:0 0 6px;font-size:16px">Explore</h4><div style="display:grid;gap:6px;font-size:15px">
      <a href="#series">Machines</a><a href="#financing">Financing</a><a href="#support">Support</a><a href="#locator">Dealer Locator</a>
    </div></div>
    <div><h4 class="h3" style="margin:0 0 6px;font-size:16px">Company</h4><div style="display:grid;gap:6px;font-size:15px">
      <a href="#contact">Contact</a><a href="#">Privacy</a>
    </div></div>
    <div><h4 class="h3" style="margin:0 0 6px;font-size:16px">Get Support</h4>
      <p class="p-muted" style="margin:0 0 8px">Questions about machines, parts, or service</p>
      <a class="btn btn-primary" href="https://stitch-it-support-site.web.app/supportForm" target="_blank" rel="noopener">Open Support Form</a>
    </div>
  </div>
  <div style="border-top:1px solid var(--line);text-align:center;padding:12px 0;font-size:13px;color:#64748b">
    © <span id="y"></span> SWF USA
  </div>
</footer>

<!-- PDF/WEB Modal -->
<div class="modal-backdrop" id="pdfBackdrop" hidden></div>
<div class="modal" id="pdfModal" role="dialog" aria-modal="true" aria-labelledby="pdfTitle" hidden>
  <div class="modal-head">
    <h3 id="pdfTitle">Brochure</h3>
    <button class="modal-close" id="pdfClose" aria-label="Close PDF viewer">✕</button>
  </div>
  <div class="modal-body"><iframe id="pdfFrame" title="Brochure / Page"></iframe></div>
</div>

<script>
/* Year */
document.getElementById('y').textContent = new Date().getFullYear();

/* Header behavior */
const header = document.getElementById('siteHeader');
const onScroll = () => header.classList.toggle('scrolled', window.scrollY > 6);
onScroll(); window.addEventListener('scroll', onScroll);

/* Mobile toggle */
const menuBtn = document.getElementById('menuBtn');
const mobileMenu = document.getElementById('mobileMenu');
menuBtn?.addEventListener('click', () => {
  const open = !mobileMenu.hasAttribute('hidden');
  if (open){ mobileMenu.setAttribute('hidden',''); menuBtn.setAttribute('aria-expanded','false'); }
  else { mobileMenu.removeAttribute('hidden'); menuBtn.setAttribute('aria-expanded','true'); }
});

/* Active nav link */
const links = [...document.querySelectorAll('.nav-link')];
const targets = links.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);
const io = new IntersectionObserver((entries)=>{
  const visible = entries.filter(e => e.isIntersecting).sort((a,b)=> a.boundingClientRect.top - b.boundingClientRect.top)[0];
  if(!visible) return;
  const id = '#'+visible.target.id;
  links.forEach(l => l.setAttribute('aria-current', l.getAttribute('href')===id ? 'true':'false'));
},{ rootMargin:'-40% 0px -55% 0px', threshold:[0,1] });
targets.forEach(sec => io.observe(sec));
links.forEach(a=>{
  a.addEventListener('click', e=>{
    const id = a.getAttribute('href'); const sec = document.querySelector(id);
    if(!sec) return; e.preventDefault(); sec.scrollIntoView({behavior:'smooth', block:'start'}); history.replaceState(null,'', id);
  });
});

/* Series details toggler + deep links (dynamic) */
(function () {
  const buttons = document.querySelectorAll('.js-view-series');

  function closeAll() {
    document.querySelectorAll('.series-details.open').forEach(el => {
      el.classList.remove('open');
      el.setAttribute('aria-hidden', 'true');
    });
    buttons.forEach(b => b.setAttribute('aria-expanded', 'false'));
  }

  function openFor(btn, scroll = true) {
    if (!btn) return;
    const targetSel =
      btn.getAttribute('data-target') ||
      (btn.getAttribute('href') ? btn.getAttribute('href') + '-details' : '');
    const panel = targetSel ? document.querySelector(targetSel) : null;
    if (!panel) return;

    closeAll();
    panel.classList.add('open');
    panel.setAttribute('aria-hidden', 'false');
    btn.setAttribute('aria-expanded', 'true');
    if (scroll) panel.closest('.hcard')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  buttons.forEach(btn => {
    btn.setAttribute('aria-expanded', 'false');
    btn.addEventListener('click', e => {
      const targetSel =
        btn.getAttribute('data-target') ||
        (btn.getAttribute('href') ? btn.getAttribute('href') + '-details' : '');
      if (!targetSel) return;

      const panel = document.querySelector(targetSel);
      if (!panel) return;

      e.preventDefault();
      if (panel.classList.contains('open')) {
        closeAll();
        history.replaceState(null, '', ' ');
      } else {
        openFor(btn);
        const hash = btn.getAttribute('href') || '';
        if (hash) history.replaceState(null, '', hash);
      }
    });
  });

  // Deep link support: #ks, #kx/specs, etc.
  if (location.hash) {
    const [seriesHash, tabId] = location.hash.split('/');
    const opener = Array.from(buttons).find(b => (b.getAttribute('href') || '') === seriesHash);
    if (opener) {
      openFor(opener, false);
      if (tabId) {
        const tabsRoot = document.querySelector(
          (opener.getAttribute('data-target') || seriesHash + '-details') + ' .tabs'
        );
        const tabBtn = tabsRoot?.querySelector(`#tab-${seriesHash.replace('#', '')}-${tabId}`);
        tabBtn?.click();
      }
      document.getElementById('series')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }
})();

/* Tabs */
(function(){
  function initTabs(root){
    const tabs = Array.from(root.querySelectorAll('[role="tab"]'));
    if (!tabs.length) return;
    function activate(i, setHash=true){
      tabs.forEach((t,idx)=>{
        const selected = idx===i;
        t.setAttribute('aria-selected', selected ? 'true':'false');
        const panelId = t.getAttribute('aria-controls');
        const panel = panelId && root.querySelector('#'+panelId);
        if(panel){ panel.classList.toggle('active', selected); }
      });
      if(setHash){
        const id = tabs[i].id.replace('tab-','');
        const series = root.closest('.series-details')?.id.replace('-details','');
        if(series){ history.replaceState(null,'', `#${series}/${id.split('-')[1]}`); }
      }
    }
    tabs.forEach((tab,i)=>{
      tab.addEventListener('click', ()=>activate(i));
      tab.addEventListener('keydown', (e)=>{
        const cur = tabs.findIndex(t=>t.getAttribute('aria-selected')==='true');
        if(e.key==='ArrowRight'){ e.preventDefault(); activate((cur+1)%tabs.length); }
        if(e.key==='ArrowLeft'){  e.preventDefault(); activate((cur-1+tabs.length)%tabs.length); }
      });
    });
    const h = location.hash;
    if(h && h.includes('/')){
      const [, tabId] = h.split('/');
      const idx = tabs.findIndex(t => t.id.endsWith(tabId));
      if(idx>=0){ activate(idx, false); return; }
    }
    activate(0, false);
  }
  document.querySelectorAll('.tabs[data-tabs]').forEach(initTabs);

  // quick jump links in Support section
  const jump = (selector, tabBtnId) => {
    document.querySelectorAll(selector).forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const href = a.getAttribute('href') || '';
        const seriesId = href.split('/')[0];
        const btn = document.querySelector(`.js-view-series[href="${seriesId}"]`);
        if(btn){
          btn.click();
          if(tabBtnId){
            setTimeout(()=> document.getElementById(tabBtnId)?.click(), 150);
          }
        } else if (tabBtnId){
          setTimeout(()=> document.getElementById(tabBtnId)?.click(), 150);
        }
        document.getElementById('series')?.scrollIntoView({ behavior:'smooth', block:'start' });
      });
    });
  };
  jump('.js-jump-kx-dl','tab-kx-downloads');
  jump('.js-jump-ks-dl','tab-ks-downloads');
  jump('.js-jump-ke-dl','tab-ke-downloads');
  jump('.js-jump-es-dl','tab-es-downloads');
  jump('.js-jump-mas-dl','tab-mas-downloads');
  jump('.js-jump-sunny-dl','tab-sunny-downloads');

  jump('.js-jump-ke-vid','tab-ke-videos');
  jump('.js-jump-kx-vid','tab-kx-videos');
  jump('.js-jump-mas-vid','tab-mas-videos');
  jump('.js-jump-sunny-vid','tab-sunny-videos');
})();

/* Modal (PDF / web) */
(function(){
  const openBtns = document.querySelectorAll('.js-open-pdf');
  const backdrop = document.getElementById('pdfBackdrop');
  const modal = document.getElementById('pdfModal');
  const frame = document.getElementById('pdfFrame');
  const titleEl = document.getElementById('pdfTitle');
  const closeBtn = document.getElementById('pdfClose');
  let lastFocus = null;

  function openModal(url, title){
    lastFocus = document.activeElement;
    titleEl.textContent = title || 'Brochure';
    frame.src = url;
    backdrop.hidden = false; modal.hidden = false;
    backdrop.classList.add('open'); modal.classList.add('open');
    closeBtn.focus(); document.documentElement.style.overflow = 'hidden';
  }
  function closeModal(){
    frame.src = 'about:blank';
    backdrop.classList.remove('open'); modal.classList.remove('open');
    backdrop.hidden = true; modal.hidden = true;
    document.documentElement.style.overflow = '';
    if(lastFocus) lastFocus.focus();
  }

  openBtns.forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      e.preventDefault();
      openModal(btn.getAttribute('data-pdf'), btn.getAttribute('data-title'));
    });
  });
  backdrop.addEventListener('click', closeModal);
  closeBtn.addEventListener('click', closeModal);
  window.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && !modal.hidden){ closeModal(); } });
})();
</script>

<script>
/* ================= Dealer Locator (ALL dealers have pins) ================= */

// Dealers (online get a representative pin; retail use exact store addresses)
const dealers = [
  // ONLINE (with pins)
  {
    id:'kens-online',
    name:"Ken's Sewing Center — Online",
    website:'https://www.kenssewingcenter.com',
    phone:'877-536-7739',
    type:'online',
    certs:['single'],
    address:'912 Second Street, Muscle Shoals, AL 35661',
    city:'Muscle Shoals', state:'AL',
    lat:34.7459, lng:-87.6676
  },
  {
    id:'tops-online',
    name:'Tops Vacuum & Sewing — Online',
    website:'https://www.topsvacuumandsewing.com',
    phone:'800-280-4919',
    type:'online',
    certs:['single'],
    address:'Online dealer (Florida hub)',
    city:'Tampa', state:'FL',
    lat:27.9506, lng:-82.4572
  },
  {
    id:'smp-online',
    name:'Sewing Machines Plus — Online',
    website:'https://www.sewingmachinesplus.com',
    phone:'800-408-5181',
    type:'online',
    certs:['single','multi'],
    address:'Online dealer (San Marcos base)',
    city:'San Marcos', state:'CA',
    lat:33.1434, lng:-117.1661
  },
  {
    id:'stitchit-online',
    name:'Stitch It International — Online',
    website:'https://www.stitchitintl.com',
    phone:'866-333-2415',
    type:'online',
    certs:['single','multi'],
    address:'9844 State Highway 72, Patton, MO 63662',
    city:'Patton', state:'MO',
    lat:37.5580, lng:-90.0330
  },

  // RETAIL
  {
    id:'smp-san-marcos',
    name:'Sewing Machines Plus — San Marcos, CA',
    website:'https://www.sewingmachinesplus.com',
    phone:'760-739-8222',
    type:'retail',
    address:'713 Center Dr, San Marcos, CA 92069',
    city:'San Marcos', state:'CA',
    lat:33.1283, lng:-117.1591,
    certs:['single']
  },

 // ONLINE (with pin)
{
  id:'tops-online',
  name:'Tops Vacuum & Sewing — Online',
  website:'https://topsvacuumandsewing.com',
  phone:'800-280-4919',
  type:'online',
  certs:['single'],
  address:'Online dealer (Florida hub)',
  city:'Tampa', state:'FL',
  lat:27.9506, lng:-82.4572
},

/* Tops — Florida */
{ id:'tops-boca', name:'Tops Vacuum & Sewing — Boca Raton, FL', website:'https://topsvacuumandsewing.com', phone:'561-672-1709', type:'retail', address:'8177 Glades Rd Ste 7, Boca Raton, FL 33434', city:'Boca Raton', state:'FL', lat:26.3683, lng:-80.1289, certs:['single'] },
{ id:'tops-brandon', name:'Tops Vacuum & Sewing — Brandon, FL', website:'https://topsvacuumandsewing.com', phone:'813-689-5257', type:'retail', address:'112 E Brandon Blvd, Brandon, FL 33511', city:'Brandon', state:'FL', lat:27.9378, lng:-82.2859, certs:['single'] },
{ id:'tops-fort-myers', name:'Tops Vacuum & Sewing — Fort Myers, FL', website:'https://topsvacuumandsewing.com', phone:'239-936-3231', type:'retail', address:'12135 S Cleveland Ave, Fort Myers, FL 33907', city:'Fort Myers', state:'FL', lat:26.6406, lng:-81.8723, certs:['single'] },
{ id:'tops-lakewood', name:'Tops Vacuum & Sewing — Lakewood Ranch (Bradenton), FL', website:'https://topsvacuumandsewing.com', phone:'941-251-5226', type:'retail', address:'7212 55th Ave E, Bradenton, FL 34203', city:'Bradenton', state:'FL', lat:27.4342, lng:-82.4593, certs:['single'] },
{ id:'tops-largo', name:'Tops Vacuum & Sewing — Largo, FL', website:'https://topsvacuumandsewing.com', phone:'727-585-6676', type:'retail', address:'12495 Seminole Blvd, Largo, FL 33778', city:'Largo', state:'FL', lat:27.9095, lng:-82.7873, certs:['single'] },
{ id:'tops-naples', name:'Tops Vacuum & Sewing — Naples, FL', website:'https://topsvacuumandsewing.com', phone:'239-591-4422', type:'retail', address:'5367 Airport Pulling Rd N, Naples, FL 34109', city:'Naples', state:'FL', lat:26.1420, lng:-81.7948, certs:['single'] },
{ id:'tops-palm-harbor', name:'Tops Vacuum & Sewing — Palm Harbor, FL', website:'https://topsvacuumandsewing.com', phone:'727-787-7043', type:'retail', address:'#215, 3327 Tampa Rd, Palm Harbor, FL 34684', city:'Palm Harbor', state:'FL', lat:28.0781, lng:-82.7637, certs:['single'] },
{ id:'tops-pembroke', name:'Tops Vacuum & Sewing — Pembroke Pines, FL', website:'https://topsvacuumandsewing.com', phone:'954-431-3552', type:'retail', address:'10826 Pines Blvd, Pembroke Pines, FL 33026', city:'Pembroke Pines', state:'FL', lat:26.0032, lng:-80.2239, certs:['single'] },
{ id:'tops-port-charlotte', name:'Tops Vacuum & Sewing — Port Charlotte, FL', website:'https://topsvacuumandsewing.com', phone:'941-766-7118', type:'retail', address:'3846 Tamiami Trail, Port Charlotte, FL 33952', city:'Port Charlotte', state:'FL', lat:26.9762, lng:-82.0906, certs:['single'] },
{ id:'tops-sarasota', name:'Tops Vacuum & Sewing — Sarasota, FL', website:'https://topsvacuumandsewing.com', phone:'941-926-2699', type:'retail', address:'2120 Bee Ridge Road, Sarasota, FL 34239', city:'Sarasota', state:'FL', lat:27.3364, lng:-82.5307, certs:['single'] },
{ id:'tops-tampa', name:'Tops Vacuum & Sewing — Tampa, FL', website:'https://topsvacuumandsewing.com', phone:'813-963-6732', type:'retail', address:'14922 Dale Mabry Hwy #6, Tampa, FL 33618', city:'Tampa', state:'FL', lat:28.0887, lng:-82.4946, certs:['single'] },

/* Tops — Texas */
{ id:'tops-plano', name:'Tops Vacuum & Sewing — Plano, TX', website:'https://topsvacuumandsewing.com', phone:'214-440-2207', type:'retail', address:'700 Alma Dr #106, Plano, TX 75075', city:'Plano', state:'TX', lat:33.0198, lng:-96.6989, certs:['single'] },
{ id:'tops-houston', name:'Tops Vacuum & Sewing — Houston, TX', website:'https://topsvacuumandsewing.com', phone:'713-814-5121', type:'retail', address:'3727 Westheimer Rd, Houston, TX 77027', city:'Houston', state:'TX', lat:29.7420, lng:-95.4550, certs:['single'] },
];

/* DOM */
const q = document.getElementById('dealerSearch');
const t = document.getElementById('dealerType');
const c = document.getElementById('dealerCert');
const s = document.getElementById('dealerSort');
const groupsHost = document.getElementById('dealerGroups');
const countEl = document.getElementById('dealerCount');
const clearBtn = document.getElementById('dealerClear');
const locBtn = document.getElementById('useLocation');
const mapBtn = document.getElementById('toggleMap');
const mapPane = document.getElementById('mapPane');

let userPos = null;
let map, markerLayer;

/* Helpers */
const hasGeo = d => typeof d.lat === 'number' && typeof d.lng === 'number';
const miles = m => (m / 1609.344).toFixed(1); // meters → miles
function haversine(a, b) {           // returns meters
  const toRad = v => v * Math.PI / 180;
  const R = 6371000;
  const dLat = toRad(b.lat - a.lat);
  const dLng = toRad(b.lng - a.lng);
  const lat1 = toRad(a.lat);
  const lat2 = toRad(b.lat);
  const h = Math.sin(dLat/2)**2 + Math.cos(lat1)*Math.cos(lat2)*Math.sin(dLng/2)**2;
  return 2 * R * Math.asin(Math.sqrt(h));
}

/* Render a single dealer card */
function card(d){
  const certTags = (d.certs||[]).map(cc => `<span class="dealer-chip ${cc==='single'?'single':'multi'}">${cc==='single'?'Single Head':'Multi-Head'} Certified</span>`).join(' ');
  const typeTag = d.type==='online' ? `<span class="badge-online">Online</span>` : `<span class="badge-online">Retail</span>`;
  const addr = d.address ? `<div>${d.address}</div>` : '';
  const cityst = (d.city||d.state) ? `<div>${[d.city,d.state].filter(Boolean).join(', ')}</div>` : '';
  const dist = (userPos && hasGeo(d)) ? `<span class="dealer-chip">~${miles(haversine(userPos, d))} mi</span>` : '';
  const mapsQuery = encodeURIComponent(`${d.name} ${d.address||[d.city,d.state].filter(Boolean).join(', ')}`);
  return `
    <div class="dealer-item" data-type="${d.type}" data-cert="${(d.certs||[]).join(' ')}" data-search="${(d.name+' '+(d.address||'')+' '+(d.city||'')+' '+(d.state||'')+' '+(d.phone||'')).toLowerCase()}">
      <h3>${d.name}</h3>
      <div class="dealer-meta">
        ${typeTag}
        ${d.state ? `<span class="dealer-chip">${d.state}</span>`:''}
        ${certTags}
        ${dist}
      </div>
      <div class="p-muted" style="margin-top:6px">
        ${addr || cityst}
        ${d.phone ? `<div>☎ ${d.phone}</div>`:''}
      </div>
      <div class="dealer-actions">
        ${d.website ? `<a class="btn btn-outline" href="${d.website}" target="_blank" rel="noopener">Website</a>`:''}
        ${d.phone ? `<a class="btn btn-primary" href="tel:${d.phone}">Call ${d.phone}</a>`:''}
        ${hasGeo(d) ? `<a class="btn btn-outline" href="https://www.google.com/maps/search/?api=1&query=${mapsQuery}" target="_blank" rel="noopener">Open in Maps</a>`:''}
      </div>
    </div>
  `;
}

/* Filtering + sorting */
function currentFiltered(){
  const qv = (q.value||'').toLowerCase();
  const tv = t.value;
  const cv = c.value;
  let list = dealers.filter(d => {
    const typeOk = !tv || d.type===tv;
    const certOk = !cv || (d.certs||[]).includes(cv);
    const qOk = !qv || (d.name+' '+(d.address||'')+' '+(d.city||'')+' '+(d.state||'')+' '+(d.phone||'')).toLowerCase().includes(qv);
    return typeOk && certOk && qOk;
  });

  // sort
  const sv = s.value;
  if (sv==='alpha') {
    list.sort((a,b)=> a.name.localeCompare(b.name));
  } else if (sv==='nearest' && userPos) {
    list.sort((a,b)=>{
      const da = hasGeo(a) ? haversine(userPos,a) : Infinity;
      const db = hasGeo(b) ? haversine(userPos,b) : Infinity;
      return da - db;
    });
  } else {
    list.sort((a,b)=> a.name.localeCompare(b.name));
  }
  return list;
}

/* Render list + count */
function renderList(){
  const list = currentFiltered();
  countEl.textContent = list.length;
  groupsHost.innerHTML = list.length
    ? list.map(card).join('')
    : `<div class="empty-state">No dealers match your filters.</div>`;
  updateMap(list);
}

/* Map setup */
function ensureMap(){
  if (map) return;
  map = L.map('dealerMap', { zoomControl:true, minZoom:3 }).setView([39.5,-98.35], 4);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19, attribution: '&copy; OpenStreetMap'
  }).addTo(map);
  markerLayer = L.layerGroup().addTo(map);
}

function updateMap(list){
  if (!mapPane || mapPane.classList.contains('map-hidden')) return;
  ensureMap();
  markerLayer.clearLayers();

  const pts = list.filter(hasGeo);
  const markers = pts.map(d => {
    const m = L.marker([d.lat, d.lng]).bindPopup(
      `<strong>${d.name}</strong><br>${d.address ? d.address+'<br>':''}${[d.city,d.state].filter(Boolean).join(', ')}${d.phone ? `<br><a href="tel:${d.phone}">${d.phone}</a>`:''}`
    );
    m.addTo(markerLayer);
    return m;
  });

  if (userPos){
    L.circleMarker([userPos.lat,userPos.lng], { radius:6, weight:2 }).addTo(markerLayer).bindPopup('You');
  }

  if (markers.length){
    const group = L.featureGroup(markers);
    map.fitBounds(group.getBounds().pad(0.2));
  } else {
    map.setView([39.5,-98.35], 4);
  }
}

/* Geolocation */
function isSecure(){ return location.protocol==='https:' || location.hostname==='localhost'; }
locBtn?.addEventListener('click', ()=>{
  if (!isSecure()){ alert('Geolocation requires HTTPS (or localhost).'); return; }
  if (!('geolocation' in navigator)){ alert('Geolocation is not available in this browser.'); return; }
  navigator.geolocation.getCurrentPosition(
    pos => { userPos = { lat:pos.coords.latitude, lng:pos.coords.longitude }; s.value='nearest'; renderList(); },
    err => {
      const reason = ({1:'Permission denied',2:'Position unavailable',3:'Timeout'})[err.code] || 'Unknown error';
      alert(`Could not get your location (${reason}). If you denied the prompt, allow location access and try again.`);
    },
    { enableHighAccuracy:true, timeout:10000, maximumAge:60000 }
  );
});

/* Map toggle */
mapBtn?.addEventListener('click', ()=>{
  const on = mapPane.classList.toggle('map-hidden');
  mapPane.setAttribute('aria-hidden', on ? 'true':'false');
  mapBtn.setAttribute('aria-pressed', (!on).toString());
  mapBtn.textContent = on ? '🗺️ Show Map' : '🗺️ Hide Map';
  if (!on){
    setTimeout(()=>{ ensureMap(); map.invalidateSize(); updateMap(currentFiltered()); },0);
  }
});

/* Filters */
[q,t,c,s].forEach(el => el?.addEventListener('input', renderList));
clearBtn?.addEventListener('click', ()=>{ q.value=''; t.value=''; c.value=''; s.value='alpha'; userPos=null; renderList(); });

/* Init */
renderList();
</script>

</body>
</html>




































